[
    {
        "id": "78092a27.0e2d74",
        "type": "tab",
        "label": "Temperatures",
        "disabled": false,
        "info": "Temperature readings, triggered every 2 \nseconds (note that the PID algorith has this \nfrequency hard coded into it, and those \nfunctions will need to be modified if the \ntrigger frequency is changed). Also smoothing \nand formating for temperature display."
    },
    {
        "id": "db5d02b4.8e6d1",
        "type": "tab",
        "label": "HLT buttons",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c522bae4.604dc8",
        "type": "tab",
        "label": "HLT controller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6286aafa.8fb494",
        "type": "tab",
        "label": "MLT buttons",
        "disabled": false,
        "info": ""
    },
    {
        "id": "fa2ac6bb.22e008",
        "type": "tab",
        "label": "MLT controller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cd266aab.476e98",
        "type": "tab",
        "label": "BK buttons",
        "disabled": false,
        "info": "Buttons related to controlling the boil.\nThese buttons also display state."
    },
    {
        "id": "1adf5c5c.8cf894",
        "type": "tab",
        "label": "BK controller",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7dba9555.09d61c",
        "type": "tab",
        "label": "PID outputs",
        "disabled": false,
        "info": "This flow displays output from the PID \nalgorithm. This can be useful for tuning \npurposes."
    },
    {
        "id": "e54ae304.78e86",
        "type": "tab",
        "label": "Element outputs",
        "disabled": false,
        "info": "Routing to GPIO, as well as displays for element\noutput in duty %"
    },
    {
        "id": "6edcb3ec.ea373c",
        "type": "tab",
        "label": "Pump control",
        "disabled": false,
        "info": "This flow provides a button to turn a pump on \nand off. The colour of the pump button reflects\nits status. The pump has one restriction in that \nit can not be turned off while RIMS is active.\nSuch attempts are blocked, with a notification\nprovided to the user."
    },
    {
        "id": "13cd9d31.a34273",
        "type": "tab",
        "label": "UI navigation and style",
        "disabled": false,
        "info": "This tab contains a collection of UI features.\n* CSS overide to ensure dashboard is only 1 or 2 columns\n* Centre \"group\" titles\n* Navigation buttons"
    },
    {
        "id": "6e183626.a434a8",
        "type": "tab",
        "label": "Logging",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2e3144a8.9b713c",
        "type": "tab",
        "label": "Calibration",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1a72a84.1b49058",
        "type": "tab",
        "label": "Bolt indicators",
        "disabled": false,
        "info": "* Bolts indicating element activity"
    },
    {
        "id": "2e8b4e03.0be482",
        "type": "tab",
        "label": "Mash Schedule",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2ec55204.a37cde",
        "type": "tab",
        "label": "Brewfather",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e55fabca.3e1018",
        "type": "tab",
        "label": "Timer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "9ba846e8.ce3ae8",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#77bb40",
                "baseFont": "Tahoma,Geneva,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#094779",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#32A359",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": true
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": true
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": true
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": true
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "brew2",
            "hideToolbar": "true",
            "allowSwipe": "false",
            "allowTempTheme": "false",
            "dateFormat": "YYYY-MM-DD",
            "sizes": {
                "sx": 40,
                "sy": 40,
                "gx": 1,
                "gy": 1,
                "cx": 1,
                "cy": 1,
                "px": 1,
                "py": 1
            },
            "lockMenu": "false"
        }
    },
    {
        "id": "5bc4c29d.24165c",
        "type": "ui_tab",
        "name": "Brew",
        "icon": "",
        "order": 1,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "af73f68d.436728",
        "type": "ui_group",
        "name": "MLT",
        "tab": "5bc4c29d.24165c",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "28cab5d7.f6e5fa",
        "type": "ui_group",
        "name": "BK",
        "tab": "5bc4c29d.24165c",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d2aa40aa.53d6",
        "type": "ui_group",
        "name": "BK SETTINGS",
        "tab": "a1d04174.eec44",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a1d04174.eec44",
        "type": "ui_tab",
        "name": "Bk Settings",
        "icon": "",
        "order": 7,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "9d84adeb.2fb89",
        "type": "ui_group",
        "name": "BOTTOM",
        "tab": "5bc4c29d.24165c",
        "order": 5,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b0041718.f1c6f8",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "brew2",
        "name": "",
        "usetls": false,
        "tls": ""
    },
    {
        "id": "150125a.a02c6da",
        "type": "ui_tab",
        "name": "General Settings",
        "icon": "dashboard",
        "order": 9,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "e804feb2.b941b",
        "type": "ui_group",
        "name": "LOGGING",
        "tab": "150125a.a02c6da",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "dc87f7db.dd2328",
        "type": "ui_tab",
        "name": "Settings",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1e2ade38.c7b3c2",
        "type": "ui_group",
        "name": "SETTINGS",
        "tab": "dc87f7db.dd2328",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "95e12070.c9fbb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "e804feb2.b941b",
        "order": 6,
        "width": 6,
        "height": 1
    },
    {
        "id": "42c61cca.440cd4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d2aa40aa.53d6",
        "order": 9,
        "width": "6",
        "height": 1
    },
    {
        "id": "57a3dd01.b17094",
        "type": "ui_tab",
        "name": "Calibration",
        "icon": "dashboard",
        "order": 10,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "21450869.2040f8",
        "type": "ui_group",
        "name": "BK Calibration",
        "tab": "57a3dd01.b17094",
        "order": 3,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "2a8a02b9.af4f4e",
        "type": "ui_group",
        "name": "MLT Calibration",
        "tab": "57a3dd01.b17094",
        "order": 2,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "70f9b70c.8ac798",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": "12",
        "height": 1
    },
    {
        "id": "475ddb64.ce1e94",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "b073a9ac.de59e8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 13,
        "width": 1,
        "height": 1
    },
    {
        "id": "dd79f854.d26848",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 11,
        "width": "6",
        "height": 1
    },
    {
        "id": "f3551d3c.cb9fc",
        "type": "ui_tab",
        "name": "Mash Schedule",
        "icon": "dashboard",
        "order": 11,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "23f88a1c.84f826",
        "type": "ui_group",
        "name": "MASH SCHEDULE",
        "tab": "f3551d3c.cb9fc",
        "order": 1,
        "disp": true,
        "width": 8,
        "collapse": false
    },
    {
        "id": "92646333.6d2a3",
        "type": "ui_group",
        "name": "Bottom",
        "tab": "f3551d3c.cb9fc",
        "order": 18,
        "disp": false,
        "width": 8,
        "collapse": false
    },
    {
        "id": "91fbbf73.72f7",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "9b310e38.8cda",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "8ccaab0c.737358",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "cd4b5bb5.949f58",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "10057ba3.f09154",
        "type": "ui_group",
        "name": "MASH SCHEDULE2",
        "tab": "f3551d3c.cb9fc",
        "order": 9,
        "disp": false,
        "width": 8,
        "collapse": false
    },
    {
        "id": "90ec30b9.4eaa6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "7290e2be.fcc5ac",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "d21ad660.facfa8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "77530bb0.3b8af4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "4b3ba9dd.9911a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "e699d5b5.fc39e8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "25c57f11.a8e5a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "ccf7581f.8a2ed8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "6c099fbd.273f6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "847b4d35.b1aa1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "6f025f7e.49cd3",
        "type": "ui_group",
        "name": "HLT",
        "tab": "5bc4c29d.24165c",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b4d81b1d.49b088",
        "type": "ui_tab",
        "name": "Hlt settings",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "5bdce100.b1b46",
        "type": "ui_group",
        "name": "HLT settings",
        "tab": "b4d81b1d.49b088",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4a8e3f4b.cad74",
        "type": "ui_group",
        "name": "HLT Calibration",
        "tab": "57a3dd01.b17094",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "61adaa9e.bf1b34",
        "type": "ui_group",
        "name": "Timer",
        "tab": "5bc4c29d.24165c",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "146a67eb.83cb28",
        "type": "ui_tab",
        "name": "Mlt settings",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "d4dfa142.5bce",
        "type": "ui_group",
        "name": "MLT setting",
        "tab": "146a67eb.83cb28",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "63d2474c.2314a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d4dfa142.5bce",
        "order": 1,
        "width": 6,
        "height": 1
    },
    {
        "id": "c7cb917e.b85cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d4dfa142.5bce",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "21d5dc91.1c8864",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "23f88a1c.84f826",
        "order": 4,
        "width": 8,
        "height": 1
    },
    {
        "id": "a8da30c6.d87fc",
        "type": "smooth",
        "z": "78092a27.0e2d74",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "1",
        "mult": "single",
        "reduce": false,
        "x": 1120,
        "y": 560,
        "wires": [
            [
                "b8cfac92.1f82f"
            ]
        ]
    },
    {
        "id": "b48f59f2.6138c8",
        "type": "smooth",
        "z": "78092a27.0e2d74",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "1",
        "mult": "single",
        "reduce": false,
        "x": 1120,
        "y": 360,
        "wires": [
            [
                "63bd96ab.4aa2c8"
            ]
        ]
    },
    {
        "id": "cf68822.3ae798",
        "type": "sensor-ds18b20",
        "z": "78092a27.0e2d74",
        "name": "temp-BK",
        "sensorid": "28-01192e05d2c2",
        "timer": "2",
        "repeat": false,
        "x": 320,
        "y": 500,
        "wires": [
            [
                "71c405c1.6d9bac"
            ]
        ]
    },
    {
        "id": "db1f6cc6.f2a2e",
        "type": "sensor-ds18b20",
        "z": "78092a27.0e2d74",
        "name": "temp-MLT",
        "sensorid": "28-01192e02612e",
        "timer": "2",
        "repeat": false,
        "x": 320,
        "y": 300,
        "wires": [
            [
                "9a145a7d.aa7088"
            ]
        ]
    },
    {
        "id": "241925e8.bd3c5a",
        "type": "inject",
        "z": "78092a27.0e2d74",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "cf68822.3ae798",
                "db1f6cc6.f2a2e",
                "93448d9a.5cd5",
                "1de2f7da.a00cd8"
            ]
        ]
    },
    {
        "id": "66d67334.39b4bc",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "BK calibrated temperature",
        "links": [
            "4195831b.a3b6ec",
            "cccb604e.0943a",
            "d7f77fe1.72474",
            "3b5d5b2f.c00714"
        ],
        "x": 1075,
        "y": 420,
        "wires": []
    },
    {
        "id": "405d7c05.e3b9d4",
        "type": "rpi-gpio out",
        "z": "e54ae304.78e86",
        "name": "BK1 GPIO",
        "pin": "32",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 510,
        "y": 280,
        "wires": []
    },
    {
        "id": "af14a513.905e38",
        "type": "link in",
        "z": "e54ae304.78e86",
        "name": "BK GPIO",
        "links": [
            "915a5141.29ebe",
            "a8816432.aed788"
        ],
        "x": 195,
        "y": 320,
        "wires": [
            [
                "405d7c05.e3b9d4",
                "44d9ad77.b1c4e4"
            ]
        ]
    },
    {
        "id": "bc7a6ea6.ab06",
        "type": "rpi-gpio out",
        "z": "e54ae304.78e86",
        "name": "MLT GPIO",
        "pin": "38",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 510,
        "y": 160,
        "wires": []
    },
    {
        "id": "ecd2fdff.8baca",
        "type": "link in",
        "z": "e54ae304.78e86",
        "name": "MLT GPIO",
        "links": [
            "79e32bb4.2f1634",
            "b1436ec7.2173"
        ],
        "x": 195,
        "y": 220,
        "wires": [
            [
                "bc7a6ea6.ab06",
                "548e84a9.124c7c"
            ]
        ]
    },
    {
        "id": "2c27d6f9.f2b3ba",
        "type": "ui_button",
        "z": "cd266aab.476e98",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "55db049a.a2615c"
            ]
        ]
    },
    {
        "id": "e3473e47.81a32",
        "type": "ui_button",
        "z": "cd266aab.476e98",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "PID",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 290,
        "y": 60,
        "wires": [
            [
                "fc903ae8.1c4aa8"
            ]
        ]
    },
    {
        "id": "120f7dbb.cdd592",
        "type": "ui_button",
        "z": "cd266aab.476e98",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "",
        "x": 290,
        "y": 140,
        "wires": [
            [
                "494495c.b9b2e6c"
            ]
        ]
    },
    {
        "id": "fe96441f.be6838",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "PID button colour",
        "links": [
            "9fcb6344.912cf",
            "cd8fd53.01d4928"
        ],
        "x": 175,
        "y": 60,
        "wires": [
            [
                "e3473e47.81a32"
            ]
        ]
    },
    {
        "id": "6d2b3f03.f7b66",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Manual button colour",
        "links": [
            "91869f92.a221f"
        ],
        "x": 175,
        "y": 100,
        "wires": [
            [
                "2c27d6f9.f2b3ba"
            ]
        ]
    },
    {
        "id": "e5b72cec.2e853",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Off button colour",
        "links": [
            "79b4620b.6afc3c"
        ],
        "x": 175,
        "y": 140,
        "wires": [
            [
                "120f7dbb.cdd592"
            ]
        ]
    },
    {
        "id": "fc903ae8.1c4aa8",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "PID button",
        "links": [
            "9bb8f87a.cd4818",
            "3ba9763b.2bb5aa",
            "a9b14558.6d1648",
            "89fff297.83b0a",
            "eabd13cd.d314b"
        ],
        "x": 415,
        "y": 60,
        "wires": []
    },
    {
        "id": "55db049a.a2615c",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "Manual button",
        "links": [
            "9bb8f87a.cd4818",
            "3ba9763b.2bb5aa",
            "761b99a7.ba8768",
            "89fff297.83b0a",
            "dfcd8184.63ca1",
            "417d0d2f.e96cb4",
            "b555843a.8336c8"
        ],
        "x": 415,
        "y": 100,
        "wires": []
    },
    {
        "id": "494495c.b9b2e6c",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "Off button",
        "links": [
            "9bb8f87a.cd4818",
            "3ba9763b.2bb5aa",
            "23bbb319.b45fec",
            "eeaae435.158358",
            "38ee3bfe.cfccb4",
            "89fff297.83b0a"
        ],
        "x": 415,
        "y": 140,
        "wires": []
    },
    {
        "id": "394748d0.d71418",
        "type": "delay",
        "z": "cd266aab.476e98",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "946e9a77.182ec8"
            ]
        ]
    },
    {
        "id": "9fcb6344.912cf",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "PID button colour",
        "links": [
            "fe96441f.be6838"
        ],
        "x": 735,
        "y": 320,
        "wires": []
    },
    {
        "id": "9bb8f87a.cd4818",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Button click",
        "links": [
            "55db049a.a2615c",
            "494495c.b9b2e6c",
            "fc903ae8.1c4aa8",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 175,
        "y": 300,
        "wires": [
            [
                "394748d0.d71418"
            ]
        ]
    },
    {
        "id": "6fe1b2d7.b4762c",
        "type": "change",
        "z": "cd266aab.476e98",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 440,
        "wires": [
            [
                "91869f92.a221f"
            ]
        ]
    },
    {
        "id": "6d7f0b32.def844",
        "type": "change",
        "z": "cd266aab.476e98",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 400,
        "wires": [
            [
                "91869f92.a221f"
            ]
        ]
    },
    {
        "id": "eb67e5d4.0752d8",
        "type": "switch",
        "z": "cd266aab.476e98",
        "name": "",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 440,
        "wires": [
            [
                "d68ce166.396a2"
            ],
            [
                "6fe1b2d7.b4762c"
            ]
        ]
    },
    {
        "id": "b3f8826c.0c66f",
        "type": "delay",
        "z": "cd266aab.476e98",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 400,
        "wires": [
            [
                "eb67e5d4.0752d8"
            ]
        ]
    },
    {
        "id": "91869f92.a221f",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "Manual button colour",
        "links": [
            "6d2b3f03.f7b66"
        ],
        "x": 715,
        "y": 420,
        "wires": []
    },
    {
        "id": "2469c41.6edaa3c",
        "type": "change",
        "z": "cd266aab.476e98",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 560,
        "wires": [
            [
                "79b4620b.6afc3c"
            ]
        ]
    },
    {
        "id": "65a551ed.64926",
        "type": "change",
        "z": "cd266aab.476e98",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 520,
        "wires": [
            [
                "79b4620b.6afc3c"
            ]
        ]
    },
    {
        "id": "60f94e0e.d4674",
        "type": "switch",
        "z": "cd266aab.476e98",
        "name": "",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 540,
        "wires": [
            [
                "65a551ed.64926"
            ],
            [
                "2469c41.6edaa3c"
            ]
        ]
    },
    {
        "id": "1c3f4a33.aa6f76",
        "type": "delay",
        "z": "cd266aab.476e98",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 500,
        "wires": [
            [
                "60f94e0e.d4674"
            ]
        ]
    },
    {
        "id": "79b4620b.6afc3c",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "Off button colour",
        "links": [
            "e5b72cec.2e853"
        ],
        "x": 575,
        "y": 540,
        "wires": []
    },
    {
        "id": "d68ce166.396a2",
        "type": "switch",
        "z": "cd266aab.476e98",
        "name": "",
        "property": "bk_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 420,
        "wires": [
            [
                "6d7f0b32.def844"
            ],
            [
                "6fe1b2d7.b4762c"
            ]
        ]
    },
    {
        "id": "946e9a77.182ec8",
        "type": "switch",
        "z": "cd266aab.476e98",
        "name": "",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 340,
        "wires": [
            [
                "ce5e2d19.aa908"
            ],
            [
                "f9d03dd1.900eb"
            ]
        ]
    },
    {
        "id": "ce5e2d19.aa908",
        "type": "switch",
        "z": "cd266aab.476e98",
        "name": "",
        "property": "bk_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 320,
        "wires": [
            [
                "df4af70b.158f98"
            ],
            [
                "f9d03dd1.900eb"
            ]
        ]
    },
    {
        "id": "df4af70b.158f98",
        "type": "change",
        "z": "cd266aab.476e98",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 300,
        "wires": [
            [
                "9fcb6344.912cf"
            ]
        ]
    },
    {
        "id": "f9d03dd1.900eb",
        "type": "change",
        "z": "cd266aab.476e98",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 340,
        "wires": [
            [
                "9fcb6344.912cf"
            ]
        ]
    },
    {
        "id": "3ba9763b.2bb5aa",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Button click",
        "links": [
            "55db049a.a2615c",
            "494495c.b9b2e6c",
            "fc903ae8.1c4aa8",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 175,
        "y": 400,
        "wires": [
            [
                "b3f8826c.0c66f"
            ]
        ]
    },
    {
        "id": "89fff297.83b0a",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Button click",
        "links": [
            "55db049a.a2615c",
            "494495c.b9b2e6c",
            "fc903ae8.1c4aa8",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "1c3f4a33.aa6f76"
            ]
        ]
    },
    {
        "id": "282cbd35.cc9462",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Button initialization",
        "links": [
            "afb18763.629e88"
        ],
        "x": 175,
        "y": 340,
        "wires": [
            [
                "946e9a77.182ec8"
            ]
        ]
    },
    {
        "id": "b214e027.dde9e",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "afb18763.629e88"
        ],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "eb67e5d4.0752d8"
            ]
        ]
    },
    {
        "id": "cc79b2e.f24e75",
        "type": "link in",
        "z": "cd266aab.476e98",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "afb18763.629e88"
        ],
        "x": 175,
        "y": 540,
        "wires": [
            [
                "60f94e0e.d4674"
            ]
        ]
    },
    {
        "id": "12ff3b59.453f35",
        "type": "ui_ui_control",
        "z": "cd266aab.476e98",
        "name": "Dashboard connection",
        "x": 260,
        "y": 220,
        "wires": [
            [
                "afb18763.629e88"
            ]
        ]
    },
    {
        "id": "afb18763.629e88",
        "type": "link out",
        "z": "cd266aab.476e98",
        "name": "Button initialization on connection",
        "links": [
            "282cbd35.cc9462",
            "cc79b2e.f24e75",
            "b214e027.dde9e"
        ],
        "x": 415,
        "y": 220,
        "wires": []
    },
    {
        "id": "f115c898.c53e88",
        "type": "ui_ui_control",
        "z": "13cd9d31.a34273",
        "name": "UI navigation",
        "x": 450,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "377e3ed4.7d3e42",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 4,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "MLT PID",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 420,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "c4a2ba05.cdbc28",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 5,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "BK PID",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 500,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "61549925.af73b8",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "d4dfa142.5bce",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "47f51760.561678",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "d2aa40aa.53d6",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "b75ce8b4.2e90a8",
        "type": "ui_template",
        "z": "13cd9d31.a34273",
        "group": "9d84adeb.2fb89",
        "name": "Ensure dashboard is displayed as 1 or 2 columns",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n@media only screen and (min-width: 1080px) { .masonry-container {\n    width: 1080px;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "global",
        "x": 230,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "9ef5ccdd.19a0c",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "d2aa40aa.53d6",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "BK PID Integrator",
        "label": "Integral",
        "format": "{{integrator | number:1}}°F⦁s",
        "layout": "col-center",
        "x": 410,
        "y": 360,
        "wires": []
    },
    {
        "id": "e7dd139d.0068f",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "d2aa40aa.53d6",
        "order": 3,
        "width": "2",
        "height": "1",
        "name": "BK PID Error",
        "label": "Error",
        "format": "{{last_error | number:1}}°F",
        "layout": "col-center",
        "x": 390,
        "y": 320,
        "wires": []
    },
    {
        "id": "2862d2a3.6bffbe",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "d2aa40aa.53d6",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "BK PID Derivative",
        "label": "Derivative",
        "format": "{{derivative | number:1}}°F/s",
        "layout": "col-center",
        "x": 410,
        "y": 400,
        "wires": []
    },
    {
        "id": "c158941e.0d0d48",
        "type": "link in",
        "z": "7dba9555.09d61c",
        "name": "BK PID display",
        "links": [
            "21d00410.0d098c"
        ],
        "x": 215,
        "y": 360,
        "wires": [
            [
                "9ef5ccdd.19a0c",
                "2862d2a3.6bffbe",
                "e7dd139d.0068f"
            ]
        ]
    },
    {
        "id": "3fd4e7ae.9dd688",
        "type": "ui_template",
        "z": "13cd9d31.a34273",
        "group": "9d84adeb.2fb89",
        "name": "Centre group titles",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<style>\n.nr-dashboard-theme ui-card-panel p.nr-dashboard-cardtitle {\n    text-align: center;\n}\nbody {\n  overflow: hidden; /* Hide scrollbars */\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "global",
        "x": 130,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "6068493e.682338",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "MLT calibrated temperature",
        "links": [
            "f640b18d.f4e25",
            "2cfa4bcb.9cab14",
            "cccb604e.0943a",
            "d19d0a22.fd19e8"
        ],
        "x": 1075,
        "y": 220,
        "wires": []
    },
    {
        "id": "93448d9a.5cd5",
        "type": "delay",
        "z": "78092a27.0e2d74",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 330,
        "y": 360,
        "wires": [
            [
                "f2c4a003.dd758"
            ]
        ]
    },
    {
        "id": "f2c4a003.dd758",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "PID trigger",
        "links": [
            "3353efd9.91f22"
        ],
        "x": 515,
        "y": 360,
        "wires": []
    },
    {
        "id": "ec69811b.e6cf7",
        "type": "ui_text",
        "z": "78092a27.0e2d74",
        "group": "d4dfa142.5bce",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "MLT temperature display",
        "label": "MLT",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 1210,
        "y": 280,
        "wires": []
    },
    {
        "id": "3009c25e.19ce8e",
        "type": "inject",
        "z": "6e183626.a434a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 120,
        "wires": [
            [
                "3ff3bbc7.e739b4",
                "d8cc29ae.93e358"
            ]
        ]
    },
    {
        "id": "3ff3bbc7.e739b4",
        "type": "change",
        "z": "6e183626.a434a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "d8cc29ae.93e358",
        "type": "ui_switch",
        "z": "6e183626.a434a8",
        "name": "",
        "label": "Temperature",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 270,
        "y": 120,
        "wires": [
            [
                "3ff3bbc7.e739b4"
            ]
        ]
    },
    {
        "id": "312455ad.06447a",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "General",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "5",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 180,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "59ca9f60.eb649",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "9d84adeb.2fb89",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Settings",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 260,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "9cd5e5e8.d96098",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "e804feb2.b941b",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 220,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "f53e6060.4db22",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 300,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "59210e62.3c5d3",
        "type": "inject",
        "z": "6e183626.a434a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 360,
        "wires": [
            [
                "f68098b5.48c0b8",
                "4352c3da.a2b2fc"
            ]
        ]
    },
    {
        "id": "f68098b5.48c0b8",
        "type": "change",
        "z": "6e183626.a434a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "pid_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "4352c3da.a2b2fc",
        "type": "ui_switch",
        "z": "6e183626.a434a8",
        "name": "",
        "label": "PID calculation",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 280,
        "y": 360,
        "wires": [
            [
                "f68098b5.48c0b8"
            ]
        ]
    },
    {
        "id": "c5f51ee0.8849c",
        "type": "ui_text",
        "z": "78092a27.0e2d74",
        "group": "d2aa40aa.53d6",
        "order": 1,
        "width": 2,
        "height": 1,
        "name": "BK temperature display",
        "label": "Kettle",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 1270,
        "y": 480,
        "wires": []
    },
    {
        "id": "ecc3b6d4.db8d58",
        "type": "inject",
        "z": "6e183626.a434a8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.25",
        "payloadType": "num",
        "x": 90,
        "y": 200,
        "wires": [
            [
                "6e5fd88f.646858",
                "a6a51a03.829b48"
            ]
        ]
    },
    {
        "id": "6e5fd88f.646858",
        "type": "change",
        "z": "6e183626.a434a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp_log_delta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "34155b6d.ded364",
        "type": "influxdb in",
        "z": "6e183626.a434a8",
        "influxdb": "b0041718.f1c6f8",
        "name": "Find last logged temp in influxdb",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 440,
        "y": 580,
        "wires": [
            [
                "c749e73a.3f49f8"
            ]
        ]
    },
    {
        "id": "c749e73a.3f49f8",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Construct log entry",
        "func": "if(msg.payload.length === 0 || Math.abs(msg.payload[0].last - global.get(msg.topic)) >= global.get(\"temp_log_delta\")){\nmsg.payload = [\n    {\n        measurement: msg.topic,\n        fields: {\n            temperature: global.get(msg.topic),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg}else {\n    return null\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 430,
        "y": 620,
        "wires": [
            [
                "5ef4d12d.c2f9"
            ]
        ]
    },
    {
        "id": "b9bc7696.07aa38",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Construct query to influxdb",
        "func": "msg.query = `SELECT last(value) FROM \"${msg.topic}\"`\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 540,
        "wires": [
            [
                "34155b6d.ded364"
            ]
        ]
    },
    {
        "id": "539c645b.7ff8dc",
        "type": "switch",
        "z": "6e183626.a434a8",
        "name": "Temp logging on?",
        "property": "temp_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 500,
        "wires": [
            [
                "b9bc7696.07aa38"
            ]
        ]
    },
    {
        "id": "cccb604e.0943a",
        "type": "link in",
        "z": "6e183626.a434a8",
        "name": "",
        "links": [
            "2ba2f16c.71405e",
            "66d67334.39b4bc",
            "6068493e.682338",
            "afd8ba97.9f7c88"
        ],
        "x": 175,
        "y": 500,
        "wires": [
            [
                "539c645b.7ff8dc"
            ]
        ]
    },
    {
        "id": "3dcdc945.f737c6",
        "type": "link in",
        "z": "6e183626.a434a8",
        "name": "Mash PID logger",
        "links": [
            "8f354bee.f76fb8",
            "27f8a18b.7c066e"
        ],
        "x": 175,
        "y": 840,
        "wires": [
            [
                "92233863.85b4d8"
            ]
        ]
    },
    {
        "id": "9e654cdf.28d56",
        "type": "link in",
        "z": "6e183626.a434a8",
        "name": "Boil PID logger",
        "links": [
            "5069796b.fe5378",
            "691e7038.cbbf3",
            "d02e7559.627ff8",
            "124ac83b.acdd88",
            "bf482f8.eb65bd",
            "21d00410.0d098c",
            "17efd8b9.f76077",
            "706215be.6d968c"
        ],
        "x": 175,
        "y": 900,
        "wires": [
            [
                "9fa020de.b743c"
            ]
        ]
    },
    {
        "id": "92233863.85b4d8",
        "type": "switch",
        "z": "6e183626.a434a8",
        "name": "PID logging on?",
        "property": "pid_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 840,
        "wires": [
            [
                "27a5ec35.617504"
            ]
        ]
    },
    {
        "id": "33fd0a80.42f476",
        "type": "inject",
        "z": "6e183626.a434a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 280,
        "wires": [
            [
                "eb1ca895.9a7828",
                "4c2d412a.4cf1d"
            ]
        ]
    },
    {
        "id": "eb1ca895.9a7828",
        "type": "change",
        "z": "6e183626.a434a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "output_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "4c2d412a.4cf1d",
        "type": "ui_switch",
        "z": "6e183626.a434a8",
        "name": "",
        "label": "GPIO Output",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 270,
        "y": 280,
        "wires": [
            [
                "eb1ca895.9a7828"
            ]
        ]
    },
    {
        "id": "a6a51a03.829b48",
        "type": "ui_numeric",
        "z": "6e183626.a434a8",
        "name": "",
        "label": "Threshold",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": 0,
        "max": "2",
        "step": "0.05",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "6e5fd88f.646858"
            ]
        ]
    },
    {
        "id": "562e3379.f60c3c",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"PID-mash-inner-loop\",\n        fields: {\n            target: msg.inner_target,\n            output: msg.inner_output,\n            error: msg.last_inner_error,\n            integrator: msg.inner_integrator,\n            derivative: msg.inner_derivative,\n            //active: global.get(\"rims_on\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 820,
        "wires": [
            [
                "fb888e64.1269b"
            ]
        ]
    },
    {
        "id": "9fa020de.b743c",
        "type": "switch",
        "z": "6e183626.a434a8",
        "name": "PID logging on?",
        "property": "pid_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 900,
        "wires": [
            [
                "59373bf1.4f0634"
            ]
        ]
    },
    {
        "id": "fb888e64.1269b",
        "type": "influxdb batch",
        "z": "6e183626.a434a8",
        "influxdb": "b0041718.f1c6f8",
        "precision": "",
        "retentionPolicy": "",
        "name": "",
        "x": 1240,
        "y": 920,
        "wires": []
    },
    {
        "id": "bf16a1b6.bd63a",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"PID-boil-main-loop\",\n        fields: {\n            target: msg.target,\n            output: msg.output,\n            error: msg.last_error,\n            integrator: msg.integrator,\n            derivative: msg.derivative,\n            //active: global.get(\"bk_pid\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 900,
        "wires": [
            [
                "fb888e64.1269b"
            ]
        ]
    },
    {
        "id": "d258712d.baa0c",
        "type": "influxdb batch",
        "z": "6e183626.a434a8",
        "influxdb": "b0041718.f1c6f8",
        "precision": "",
        "retentionPolicy": "",
        "name": "",
        "x": 520,
        "y": 700,
        "wires": []
    },
    {
        "id": "a5f52b91.d1a608",
        "type": "link in",
        "z": "6e183626.a434a8",
        "name": "BK GPIO logger",
        "links": [
            "34f2a1ce.cfa38e",
            "b20f25c4.154628",
            "75721920.a5b0d8",
            "77d6abda.c87b14",
            "915a5141.29ebe",
            "a8816432.aed788",
            "79e32bb4.2f1634",
            "b1436ec7.2173"
        ],
        "x": 175,
        "y": 980,
        "wires": [
            [
                "9cc24b14.165bf8"
            ]
        ]
    },
    {
        "id": "8ade65fb.5b2b08",
        "type": "link in",
        "z": "6e183626.a434a8",
        "name": "RIMS GPIO logger",
        "links": [
            "a20aef18.57465",
            "15ea41d3.6f96fe"
        ],
        "x": 175,
        "y": 940,
        "wires": [
            [
                "9fc5ab62.3e1fc8"
            ]
        ]
    },
    {
        "id": "9fc5ab62.3e1fc8",
        "type": "switch",
        "z": "6e183626.a434a8",
        "name": "Output logging on?",
        "property": "output_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 940,
        "wires": [
            [
                "f927ae2.f19275"
            ]
        ]
    },
    {
        "id": "9cc24b14.165bf8",
        "type": "switch",
        "z": "6e183626.a434a8",
        "name": "Output logging on?",
        "property": "output_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 980,
        "wires": [
            [
                "c7f63922.deb088"
            ]
        ]
    },
    {
        "id": "435da081.7125",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"output-RIMS\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 940,
        "wires": [
            [
                "fb888e64.1269b"
            ]
        ]
    },
    {
        "id": "49872d2c.e7cb94",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"output-BK\",\n        fields: {\n            duty: msg.payload,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 980,
        "wires": [
            [
                "fb888e64.1269b"
            ]
        ]
    },
    {
        "id": "dedb31a8.2497c",
        "type": "ui_text_input",
        "z": "6e183626.a434a8",
        "name": "",
        "label": "Brew label",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 270,
        "y": 40,
        "wires": [
            [
                "86c699c6.ee3328"
            ]
        ]
    },
    {
        "id": "bb27e659.3c3a98",
        "type": "inject",
        "z": "6e183626.a434a8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "untitled",
        "payloadType": "str",
        "x": 100,
        "y": 40,
        "wires": [
            [
                "dedb31a8.2497c",
                "86c699c6.ee3328"
            ]
        ]
    },
    {
        "id": "86c699c6.ee3328",
        "type": "change",
        "z": "6e183626.a434a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "brew-label",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "27a5ec35.617504",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 840,
        "wires": [
            [
                "2df9fd6a.c8b9e2"
            ]
        ]
    },
    {
        "id": "59373bf1.4f0634",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 900,
        "wires": [
            [
                "ea007732.30c578"
            ]
        ]
    },
    {
        "id": "f927ae2.f19275",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 940,
        "wires": [
            [
                "4cd37b17.085194"
            ]
        ]
    },
    {
        "id": "c7f63922.deb088",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 980,
        "wires": [
            [
                "5a3417fa.745d28"
            ]
        ]
    },
    {
        "id": "5ef4d12d.c2f9",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "timed",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 480,
        "y": 660,
        "wires": [
            [
                "d258712d.baa0c"
            ]
        ]
    },
    {
        "id": "2df9fd6a.c8b9e2",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 840,
        "wires": [
            [
                "562e3379.f60c3c",
                "eeec5df0.27889"
            ]
        ]
    },
    {
        "id": "ea007732.30c578",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 900,
        "wires": [
            [
                "bf16a1b6.bd63a"
            ]
        ]
    },
    {
        "id": "4cd37b17.085194",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 940,
        "wires": [
            [
                "435da081.7125"
            ]
        ]
    },
    {
        "id": "5a3417fa.745d28",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 980,
        "wires": [
            [
                "49872d2c.e7cb94"
            ]
        ]
    },
    {
        "id": "eeec5df0.27889",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"PID-mash-outer-loop\",\n        fields: {\n            target: msg.outer_target,\n            output: msg.outer_output,\n            error: msg.last_outer_error,\n            integrator: msg.outer_integrator,\n            derivative: msg.outer_derivative,\n            //active: global.get(\"rims_on\"),\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 860,
        "wires": [
            [
                "fb888e64.1269b"
            ]
        ]
    },
    {
        "id": "e743bea7.501a3",
        "type": "function",
        "z": "78092a27.0e2d74",
        "name": "calibrated BK temp value",
        "func": "var rawHigh = global.get('BK-raw-high');\nvar rawLow = global.get('BK-raw-low');\n\nvar referenceHigh = 212;\nvar referenceLow = 0.0;\nvar rawRange = rawHigh - rawLow;\nvar referenceRange = referenceHigh - referenceLow;\n\nvar rawValue = msg.payload;\n\nvar correctedValue = (((rawValue - rawLow) * referenceRange) / rawRange) + referenceLow;\nmsg.payload = correctedValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 480,
        "wires": [
            [
                "a8da30c6.d87fc",
                "66d67334.39b4bc",
                "c5f51ee0.8849c"
            ]
        ]
    },
    {
        "id": "5ee92aaf.2eb0f4",
        "type": "function",
        "z": "78092a27.0e2d74",
        "name": "calibrated MLT temp value",
        "func": "var rawHigh = global.get('MLT-raw-high');\nvar rawLow = global.get('MLT-raw-low');\nvar referenceHigh = 212;\nvar referenceLow = 0.0;\nvar rawRange = rawHigh - rawLow;\nvar referenceRange = referenceHigh - referenceLow;\n\nvar rawValue = msg.payload;\n\nvar correctedValue = (((rawValue - rawLow) * referenceRange) / rawRange) + referenceLow;\nmsg.payload = correctedValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 820,
        "y": 280,
        "wires": [
            [
                "6068493e.682338",
                "b48f59f2.6138c8",
                "ec69811b.e6cf7"
            ]
        ]
    },
    {
        "id": "ed04fca9.6f63c",
        "type": "inject",
        "z": "78092a27.0e2d74",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 310,
        "y": 560,
        "wires": [
            [
                "e743bea7.501a3"
            ]
        ]
    },
    {
        "id": "6c6d5bbf.953b84",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Calibration",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "6",
        "payloadType": "num",
        "topic": "",
        "x": 110,
        "y": 580,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "5579b6b9.b43248",
        "type": "ui_text",
        "z": "2e3144a8.9b713c",
        "group": "21450869.2040f8",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "BK Raw temperature",
        "label": "Raw",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 560,
        "y": 340,
        "wires": []
    },
    {
        "id": "2466285.e0f99d8",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "92646333.6d2a3",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 700,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "ff126d50.5c137",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "BK raw temperature",
        "links": [
            "d8401e4a.509df"
        ],
        "x": 715,
        "y": 440,
        "wires": []
    },
    {
        "id": "d8401e4a.509df",
        "type": "link in",
        "z": "2e3144a8.9b713c",
        "name": "BK raw temperature input",
        "links": [
            "ff126d50.5c137"
        ],
        "x": 355,
        "y": 340,
        "wires": [
            [
                "5579b6b9.b43248"
            ]
        ]
    },
    {
        "id": "d7f77fe1.72474",
        "type": "link in",
        "z": "2e3144a8.9b713c",
        "name": "BK calibrated temperature input",
        "links": [
            "66d67334.39b4bc",
            "afd8ba97.9f7c88"
        ],
        "x": 355,
        "y": 400,
        "wires": [
            [
                "410ce89e.3610c8"
            ]
        ]
    },
    {
        "id": "410ce89e.3610c8",
        "type": "ui_text",
        "z": "2e3144a8.9b713c",
        "group": "21450869.2040f8",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "BK Calibrated temperature",
        "label": "Calibrated",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 580,
        "y": 400,
        "wires": []
    },
    {
        "id": "fbc7d4da.7c49b8",
        "type": "ui_numeric",
        "z": "2e3144a8.9b713c",
        "name": "BK Raw High",
        "label": "Raw high",
        "tooltip": "",
        "group": "21450869.2040f8",
        "order": 4,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "0",
        "max": "220",
        "step": ".5",
        "x": 1150,
        "y": 280,
        "wires": [
            [
                "73f1fb97.fe4144"
            ]
        ]
    },
    {
        "id": "f95c9a87.369a98",
        "type": "inject",
        "z": "2e3144a8.9b713c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "212",
        "payloadType": "num",
        "x": 930,
        "y": 320,
        "wires": [
            [
                "73f1fb97.fe4144",
                "fbc7d4da.7c49b8"
            ]
        ]
    },
    {
        "id": "41142487.ddc32c",
        "type": "ui_numeric",
        "z": "2e3144a8.9b713c",
        "name": "BK Raw Low",
        "label": "Raw low",
        "tooltip": "",
        "group": "21450869.2040f8",
        "order": 3,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "-40",
        "max": "220",
        "step": ".5",
        "x": 1150,
        "y": 360,
        "wires": [
            [
                "ab33b54f.4a0538"
            ]
        ]
    },
    {
        "id": "73f1fb97.fe4144",
        "type": "change",
        "z": "2e3144a8.9b713c",
        "name": "set global.BK-raw-high",
        "rules": [
            {
                "t": "set",
                "p": "BK-raw-high",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "7fb8d49b.3a6cec",
        "type": "inject",
        "z": "2e3144a8.9b713c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 930,
        "y": 400,
        "wires": [
            [
                "ab33b54f.4a0538",
                "41142487.ddc32c"
            ]
        ]
    },
    {
        "id": "ab33b54f.4a0538",
        "type": "change",
        "z": "2e3144a8.9b713c",
        "name": "set global.BK-raw-low",
        "rules": [
            {
                "t": "set",
                "p": "BK-raw-low",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "7365dd50.6a4804",
        "type": "ui_numeric",
        "z": "2e3144a8.9b713c",
        "name": "MLT Raw High",
        "label": "Raw high",
        "tooltip": "",
        "group": "2a8a02b9.af4f4e",
        "order": 4,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": 0,
        "max": "220",
        "step": ".5",
        "x": 1150,
        "y": 480,
        "wires": [
            [
                "1b63ce28.fc2c02"
            ]
        ]
    },
    {
        "id": "8fe338af.da95f8",
        "type": "inject",
        "z": "2e3144a8.9b713c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "212",
        "payloadType": "num",
        "x": 930,
        "y": 520,
        "wires": [
            [
                "1b63ce28.fc2c02",
                "7365dd50.6a4804"
            ]
        ]
    },
    {
        "id": "808b36f8.9acfb8",
        "type": "ui_numeric",
        "z": "2e3144a8.9b713c",
        "name": "MLT Raw Low",
        "label": "Raw low",
        "tooltip": "",
        "group": "2a8a02b9.af4f4e",
        "order": 3,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": 0,
        "max": "220",
        "step": ".5",
        "x": 1150,
        "y": 560,
        "wires": [
            [
                "bf6602a8.e349e"
            ]
        ]
    },
    {
        "id": "1b63ce28.fc2c02",
        "type": "change",
        "z": "2e3144a8.9b713c",
        "name": "set global.MLT-raw-high",
        "rules": [
            {
                "t": "set",
                "p": "MLT-raw-high",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "f054eed7.8862f",
        "type": "inject",
        "z": "2e3144a8.9b713c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 930,
        "y": 600,
        "wires": [
            [
                "bf6602a8.e349e",
                "808b36f8.9acfb8"
            ]
        ]
    },
    {
        "id": "bf6602a8.e349e",
        "type": "change",
        "z": "2e3144a8.9b713c",
        "name": "set global.MLT-raw-low",
        "rules": [
            {
                "t": "set",
                "p": "MLT-raw-low",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "af0675c0.ba7598",
        "type": "ui_text",
        "z": "2e3144a8.9b713c",
        "group": "2a8a02b9.af4f4e",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "MLT Raw temperature",
        "label": "Raw",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 560,
        "y": 520,
        "wires": []
    },
    {
        "id": "6ffc44ff.c87acc",
        "type": "link in",
        "z": "2e3144a8.9b713c",
        "name": "MLT raw temperature input",
        "links": [
            "9ff043cc.a635c"
        ],
        "x": 355,
        "y": 520,
        "wires": [
            [
                "af0675c0.ba7598"
            ]
        ]
    },
    {
        "id": "d19d0a22.fd19e8",
        "type": "link in",
        "z": "2e3144a8.9b713c",
        "name": "MLT calibrated temperature input",
        "links": [
            "6068493e.682338"
        ],
        "x": 355,
        "y": 580,
        "wires": [
            [
                "a84e662c.b6a178"
            ]
        ]
    },
    {
        "id": "a84e662c.b6a178",
        "type": "ui_text",
        "z": "2e3144a8.9b713c",
        "group": "2a8a02b9.af4f4e",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "MLT Calibrated temperature",
        "label": "Calibrated",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 580,
        "y": 580,
        "wires": []
    },
    {
        "id": "9ff043cc.a635c",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "MLT raw temperature",
        "links": [
            "f658ec1f.98bb8",
            "6ffc44ff.c87acc"
        ],
        "x": 715,
        "y": 240,
        "wires": []
    },
    {
        "id": "626814ac.49ed4c",
        "type": "ui_dropdown",
        "z": "2e8b4e03.0be482",
        "name": "Mash steps",
        "label": "",
        "tooltip": "",
        "place": "",
        "group": "23f88a1c.84f826",
        "order": 6,
        "width": 8,
        "height": 1,
        "passthru": true,
        "options": [
            {
                "label": "Disabled",
                "value": 0,
                "type": "num"
            },
            {
                "label": "1 step",
                "value": "1",
                "type": "str"
            },
            {
                "label": "2 step",
                "value": "2",
                "type": "str"
            },
            {
                "label": "3 step",
                "value": "3",
                "type": "str"
            },
            {
                "label": "4 step",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 210,
        "y": 200,
        "wires": [
            [
                "efc46d5.50c9d9"
            ]
        ]
    },
    {
        "id": "db187e4d.25977",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "Rest1",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 11,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 270,
        "y": 560,
        "wires": [
            [
                "35d98961.e8afb6"
            ]
        ]
    },
    {
        "id": "c13b1ef0.d5161",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 10,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "30",
        "max": "200",
        "step": 1,
        "x": 730,
        "y": 560,
        "wires": [
            [
                "4e0eb545.6b131c"
            ]
        ]
    },
    {
        "id": "5825640.3cf4e9c",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "Show/Hide rests",
        "func": "if(flow.get('mash_steps') === 0){msg.payload = {group:{hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"]}}}\nif(flow.get('mash_steps') == 1){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\"]}}}\nif(flow.get('mash_steps') == 2){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\"]}}}\nif(flow.get('mash_steps') == 3){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest3\"]}}}\nif(flow.get('mash_steps') == 4){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4\"]}}}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 200,
        "wires": [
            [
                "69c17323.4f862c"
            ]
        ]
    },
    {
        "id": "378717e7.44f3c8",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "Rest4",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 17,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 290,
        "y": 900,
        "wires": [
            [
                "c1f54bd5.e0d3a8"
            ]
        ]
    },
    {
        "id": "82978961.a30bd8",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 16,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "35",
        "max": "200",
        "step": 1,
        "x": 730,
        "y": 900,
        "wires": [
            [
                "110eef82.54e21"
            ]
        ]
    },
    {
        "id": "a68dd227.939e4",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "Rest3",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 15,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 290,
        "y": 800,
        "wires": [
            [
                "eecdc67c.7d46d8"
            ]
        ]
    },
    {
        "id": "3bd5ac40.63f504",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 14,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "35",
        "max": "200",
        "step": 1,
        "x": 730,
        "y": 800,
        "wires": [
            [
                "1049343e.eb1edc"
            ]
        ]
    },
    {
        "id": "e04e58fa.4c8228",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "Rest2",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 13,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "1",
        "max": "90",
        "step": 1,
        "x": 290,
        "y": 660,
        "wires": [
            [
                "3b6d0e01.564b42"
            ]
        ]
    },
    {
        "id": "4f3c1329.ffd81c",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "",
        "label": "@",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 12,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "35",
        "max": "200",
        "step": 1,
        "x": 730,
        "y": 660,
        "wires": [
            [
                "29f95fb.b6e81a"
            ]
        ]
    },
    {
        "id": "b9cba22d.b9b1",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 150,
        "y": 160,
        "wires": [
            [
                "626814ac.49ed4c",
                "efc46d5.50c9d9"
            ]
        ]
    },
    {
        "id": "ef795e33.2daf6",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "Initialize lengths",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 280,
        "y": 520,
        "wires": [
            [
                "db187e4d.25977",
                "e04e58fa.4c8228",
                "a68dd227.939e4",
                "378717e7.44f3c8",
                "35d98961.e8afb6",
                "3b6d0e01.564b42",
                "eecdc67c.7d46d8",
                "c1f54bd5.e0d3a8"
            ]
        ]
    },
    {
        "id": "8baac9ba.a492b8",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "Initialize temp",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "35",
        "payloadType": "num",
        "x": 720,
        "y": 520,
        "wires": [
            [
                "c13b1ef0.d5161",
                "4f3c1329.ffd81c",
                "3bd5ac40.63f504",
                "82978961.a30bd8",
                "29f95fb.b6e81a",
                "4e0eb545.6b131c",
                "1049343e.eb1edc",
                "110eef82.54e21"
            ]
        ]
    },
    {
        "id": "efc46d5.50c9d9",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mash_steps",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 200,
        "wires": [
            [
                "5825640.3cf4e9c",
                "7ee307fe.94e4b8"
            ]
        ]
    },
    {
        "id": "35d98961.e8afb6",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest1_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 600,
        "wires": [
            [
                "34d2f008.51ae8"
            ]
        ]
    },
    {
        "id": "3b6d0e01.564b42",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest2_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 700,
        "wires": [
            [
                "4c6a6de8.7aa1d4"
            ]
        ]
    },
    {
        "id": "1049343e.eb1edc",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest3_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 840,
        "wires": [
            [
                "1091477c.3af689"
            ]
        ]
    },
    {
        "id": "c1f54bd5.e0d3a8",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest4_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 940,
        "wires": [
            [
                "9c42de20.0933b"
            ]
        ]
    },
    {
        "id": "110eef82.54e21",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest4_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 940,
        "wires": [
            [
                "87d6dca9.f4912"
            ]
        ]
    },
    {
        "id": "eecdc67c.7d46d8",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest3_length",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 840,
        "wires": [
            [
                "dffa414e.a5c78"
            ]
        ]
    },
    {
        "id": "29f95fb.b6e81a",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest2_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 700,
        "wires": [
            [
                "c3f9c663.28f128"
            ]
        ]
    },
    {
        "id": "4e0eb545.6b131c",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest1_temp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 600,
        "wires": [
            [
                "6ecd145b.7c88cc"
            ]
        ]
    },
    {
        "id": "516d7a3c.a78c34",
        "type": "ui_dropdown",
        "z": "2e8b4e03.0be482",
        "name": "Start time",
        "label": "",
        "tooltip": "",
        "place": "",
        "group": "23f88a1c.84f826",
        "order": 7,
        "width": 8,
        "height": 1,
        "passthru": false,
        "options": [
            {
                "label": "Start now",
                "value": "now",
                "type": "str"
            },
            {
                "label": "Delay start by...",
                "value": "delay",
                "type": "str"
            },
            {
                "label": "Resume at...",
                "value": "resume",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 300,
        "y": 380,
        "wires": [
            [
                "5dc30a3a.9c9a14"
            ]
        ]
    },
    {
        "id": "946cf516.89fe98",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "Show/Hide scheduler",
        "func": "if(flow.get('mash_start') == \"now\"){\n    msg.payload = {group:{hide:[\"Mash_Schedule_Control2\"]}}}else {\n        msg.payload = {group:{show:[\"Mash_Schedule_Control2\"]}}}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 740,
        "y": 380,
        "wires": [
            [
                "b2846c2.89ae99"
            ]
        ]
    },
    {
        "id": "d806d83a.366488",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "now",
        "payloadType": "str",
        "x": 250,
        "y": 340,
        "wires": [
            [
                "516d7a3c.a78c34",
                "5dc30a3a.9c9a14"
            ]
        ]
    },
    {
        "id": "85b41b94.366d58",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "Minutes",
        "label": "",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 8,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}m",
        "min": "0",
        "max": "59",
        "step": 1,
        "x": 400,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "fe37df47.0c2c4",
        "type": "ui_numeric",
        "z": "2e8b4e03.0be482",
        "name": "Hours",
        "label": "",
        "tooltip": "",
        "group": "23f88a1c.84f826",
        "order": 9,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}h",
        "min": "0",
        "max": "12",
        "step": 1,
        "x": 250,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "1771eada.ccb5f5",
        "type": "ui_button",
        "z": "2e8b4e03.0be482",
        "name": "",
        "group": "92646333.6d2a3",
        "order": 1,
        "width": 8,
        "height": 1,
        "passthru": false,
        "label": "Run",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 250,
        "y": 1040,
        "wires": [
            [
                "f08c151e.c56eb8"
            ]
        ]
    },
    {
        "id": "28459382.df5fdc",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "9d84adeb.2fb89",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Mash Schedule",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "7",
        "payloadType": "num",
        "topic": "",
        "x": 120,
        "y": 660,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "be5fa703.1923e8",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "21450869.2040f8",
        "order": 5,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 620,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "c18970af.6494a",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 390,
        "y": 1000,
        "wires": [
            [
                "3423ce0b.194232"
            ]
        ]
    },
    {
        "id": "f08c151e.c56eb8",
        "type": "switch",
        "z": "2e8b4e03.0be482",
        "name": "",
        "property": "scheduler",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 1040,
        "wires": [
            [
                "3423ce0b.194232"
            ],
            [
                "700c9d69.d63ba4"
            ]
        ]
    },
    {
        "id": "3423ce0b.194232",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "Switch off",
        "rules": [
            {
                "t": "set",
                "p": "scheduler",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1020,
        "wires": [
            [
                "a95b7e66.9f40c"
            ]
        ]
    },
    {
        "id": "700c9d69.d63ba4",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "Switch on",
        "rules": [
            {
                "t": "set",
                "p": "scheduler",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "click_time",
                "pt": "flow",
                "to": "",
                "tot": "date"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1060,
        "wires": [
            [
                "a95b7e66.9f40c"
            ]
        ]
    },
    {
        "id": "a1e02fcb.fcdd1",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1200,
        "wires": [
            [
                "db1e65a9.2d5b68"
            ]
        ]
    },
    {
        "id": "c8a9ba32.c216d8",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#66cc00",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1160,
        "wires": [
            [
                "db1e65a9.2d5b68"
            ]
        ]
    },
    {
        "id": "f6f6733f.88ae3",
        "type": "switch",
        "z": "2e8b4e03.0be482",
        "name": "Scheduler state",
        "property": "scheduler",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 360,
        "y": 1180,
        "wires": [
            [
                "c8a9ba32.c216d8"
            ],
            [
                "a1e02fcb.fcdd1"
            ]
        ]
    },
    {
        "id": "f96c2d8e.6e8af",
        "type": "delay",
        "z": "2e8b4e03.0be482",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 290,
        "y": 1140,
        "wires": [
            [
                "f6f6733f.88ae3"
            ]
        ]
    },
    {
        "id": "db1e65a9.2d5b68",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Run button colour",
        "links": [
            "82b4c07a.5f47b"
        ],
        "x": 655,
        "y": 1180,
        "wires": []
    },
    {
        "id": "416118c6.e522b8",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Scheduler update",
        "links": [
            "a95b7e66.9f40c"
        ],
        "x": 175,
        "y": 1140,
        "wires": [
            [
                "f96c2d8e.6e8af"
            ]
        ]
    },
    {
        "id": "a95b7e66.9f40c",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Scheduler update",
        "links": [
            "416118c6.e522b8",
            "3557bbc8.2f52c4",
            "ab7b63df.5ea9"
        ],
        "x": 655,
        "y": 1040,
        "wires": []
    },
    {
        "id": "82b4c07a.5f47b",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Run button colour",
        "links": [
            "db1e65a9.2d5b68"
        ],
        "x": 155,
        "y": 1040,
        "wires": [
            [
                "1771eada.ccb5f5"
            ]
        ]
    },
    {
        "id": "42c6c4fb.00825c",
        "type": "ui_ui_control",
        "z": "2e8b4e03.0be482",
        "name": "Dashboard connection",
        "x": 200,
        "y": 40,
        "wires": [
            [
                "c8774c10.41da2"
            ]
        ]
    },
    {
        "id": "c8774c10.41da2",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Connection established",
        "links": [
            "46d73925.734b58",
            "fabec7c3.5b33b8",
            "89494808.67c1b8"
        ],
        "x": 335,
        "y": 40,
        "wires": []
    },
    {
        "id": "89494808.67c1b8",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "initialization",
        "links": [
            "c8774c10.41da2"
        ],
        "x": 215,
        "y": 1180,
        "wires": [
            [
                "f6f6733f.88ae3"
            ]
        ]
    },
    {
        "id": "5dc30a3a.9c9a14",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mash_start",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 380,
        "wires": [
            [
                "946cf516.89fe98"
            ]
        ]
    },
    {
        "id": "46d73925.734b58",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Initialization",
        "links": [
            "c8774c10.41da2"
        ],
        "x": 575,
        "y": 340,
        "wires": [
            [
                "946cf516.89fe98"
            ]
        ]
    },
    {
        "id": "fabec7c3.5b33b8",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Initialization",
        "links": [
            "c8774c10.41da2"
        ],
        "x": 515,
        "y": 160,
        "wires": [
            [
                "5825640.3cf4e9c"
            ]
        ]
    },
    {
        "id": "2236b7d.9373b48",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "UI dynamics",
        "links": [
            "69c17323.4f862c",
            "b2846c2.89ae99",
            "fda473b1.51713",
            "8baaa2a6.c6868",
            "3cbb5cc7.3c7574",
            "cb0ab691.85cfa8",
            "bd29f7ad.778a08"
        ],
        "x": 55,
        "y": 40,
        "wires": [
            [
                "42c6c4fb.00825c"
            ]
        ]
    },
    {
        "id": "69c17323.4f862c",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Rest # selector",
        "links": [
            "2236b7d.9373b48"
        ],
        "x": 775,
        "y": 200,
        "wires": []
    },
    {
        "id": "b2846c2.89ae99",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Scheduler visibility",
        "links": [
            "2236b7d.9373b48"
        ],
        "x": 875,
        "y": 380,
        "wires": []
    },
    {
        "id": "bb1861b4.27b1e",
        "type": "ui_text",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Current time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 750,
        "y": 1800,
        "wires": []
    },
    {
        "id": "b191ac03.9214d",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 1800,
        "wires": [
            [
                "9e4af63f.f97e18"
            ]
        ]
    },
    {
        "id": "9225bd31.c6c61",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 1600,
        "wires": [
            [
                "53fae2e1.49c96c"
            ]
        ]
    },
    {
        "id": "53fae2e1.49c96c",
        "type": "change",
        "z": "2e8b4e03.0be482",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "step",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "ccbfbe1a.f442a",
        "type": "ui_text",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Current target temperature",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 740,
        "y": 1840,
        "wires": []
    },
    {
        "id": "3a729d4b.34a9a2",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "50",
        "payloadType": "num",
        "x": 350,
        "y": 1840,
        "wires": [
            [
                "ccbfbe1a.f442a"
            ]
        ]
    },
    {
        "id": "a5080aa7.e59d28",
        "type": "ui_text",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "Process stage",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 700,
        "y": 1640,
        "wires": []
    },
    {
        "id": "6fd79be1.eaaf94",
        "type": "link in",
        "z": "1a72a84.1b49058",
        "name": "BK bolt",
        "links": [
            "226818bb.eb9958",
            "3b07d4df.1d0fac"
        ],
        "x": 195,
        "y": 100,
        "wires": [
            [
                "b59c9afe.d140f8"
            ]
        ]
    },
    {
        "id": "b59c9afe.d140f8",
        "type": "change",
        "z": "1a72a84.1b49058",
        "name": "Bolt updates",
        "rules": [
            {
                "t": "set",
                "p": "bk_on",
                "pt": "msg",
                "to": "bk_on",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "35ef57e0.128838",
        "type": "ui_ui_control",
        "z": "1a72a84.1b49058",
        "name": "Dashboard connection",
        "x": 140,
        "y": 40,
        "wires": [
            [
                "b59c9afe.d140f8",
                "3683adf4.f04bd2",
                "68b0c854.ac8a18"
            ]
        ]
    },
    {
        "id": "5b4e77b7.20a6c8",
        "type": "ui_template",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "name": "Progress bar",
        "order": 7,
        "width": 8,
        "height": 1,
        "format": "<div>\n<md-progress-linear md-mode=\"{{msg.wait ? 'indeterminate' : 'determinate'}}\" value={{msg.payload}}></md-progress-linear>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 690,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "daa4d368.30e3b",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "indeterminate or determinate",
        "func": "if(flow.get('step') in [1, 3, 5, 7]){msg.wait = true} else{\n    msg.wait = false}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 1680,
        "wires": [
            [
                "5b4e77b7.20a6c8"
            ]
        ]
    },
    {
        "id": "7ee307fe.94e4b8",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "af5d2fc8.cdc5a",
            "8436a827.5eba38"
        ],
        "x": 595,
        "y": 240,
        "wires": []
    },
    {
        "id": "10806b6a.7f5b15",
        "type": "ui_text",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Total schedule length",
        "format": "{{msg.payload}}m",
        "layout": "row-spread",
        "x": 720,
        "y": 1760,
        "wires": []
    },
    {
        "id": "5be3f06b.a573a",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "Schedule length",
        "func": "msg.payload = 0.0\nif(flow.get('mash_steps') >= 1){msg.payload += flow.get('rest1_length')}\nif(flow.get('mash_steps') >= 2){msg.payload += flow.get('rest2_length')}\nif(flow.get('mash_steps') >= 3){msg.payload += flow.get('rest3_length')}\nif(flow.get('mash_steps') >= 4){msg.payload += flow.get('rest4_length')}\nflow.set('schedule_length', msg.payload)\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 320,
        "y": 1760,
        "wires": [
            [
                "10806b6a.7f5b15"
            ]
        ]
    },
    {
        "id": "af5d2fc8.cdc5a",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Update schedule length",
        "links": [
            "9c42de20.0933b",
            "4c6a6de8.7aa1d4",
            "34d2f008.51ae8",
            "7ee307fe.94e4b8",
            "dffa414e.a5c78"
        ],
        "x": 175,
        "y": 1760,
        "wires": [
            [
                "5be3f06b.a573a"
            ]
        ]
    },
    {
        "id": "4e9d4f74.f937f",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "Plain text process stage",
        "func": "if(flow.get('step') === 0){msg.payload=\"Not running\"}\nif(flow.get('step') == 1){msg.payload=\"Heating to rest 1\"}\nif(flow.get('step') == 2){msg.payload=\"Rest 1\"}\nif(flow.get('step') == 3){msg.payload=\"Heating to rest 2\"}\nif(flow.get('step') == 4){msg.payload=\"Rest 2\"}\nif(flow.get('step') == 5){msg.payload=\"Heating to rest 3\"}\nif(flow.get('step') == 6){msg.payload=\"Rest 3\"}\nif(flow.get('step') == 7){msg.payload=\"Heating to rest 4\"}\nif(flow.get('step') == 8){msg.payload=\"Rest 4\"}\nif(flow.get('step') == 10){msg.payload=\"Mash schedule completed!\"}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 1640,
        "wires": [
            [
                "a5080aa7.e59d28"
            ]
        ]
    },
    {
        "id": "24cbd18a.f2b7ae",
        "type": "inject",
        "z": "2e8b4e03.0be482",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 230,
        "y": 1640,
        "wires": [
            [
                "4e9d4f74.f937f",
                "daa4d368.30e3b"
            ]
        ]
    },
    {
        "id": "a91bcd86.f1b0e",
        "type": "ui_template",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "name": "Read only rest1",
        "order": 2,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "21863759.8b54e8",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "rest1 length and temp",
        "func": "msg.payload = `Rest 1 ${flow.get('rest1_length')}m @ ${flow.get('rest1_temp')}°F`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 1400,
        "wires": [
            [
                "a91bcd86.f1b0e"
            ]
        ]
    },
    {
        "id": "463a159e.091bec",
        "type": "ui_template",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "name": "Read only Mash steps",
        "order": 1,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 660,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "be2d57b3.646018",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "Read only mash steps text",
        "func": "if(flow.get('mash_steps') === 0){msg.payload = \"Disabled\"}\nif(flow.get('mash_steps') == 1){msg.payload = \"1 step\"}\nif(flow.get('mash_steps') == 2){msg.payload = \"2 step\"}\nif(flow.get('mash_steps') == 3){msg.payload = \"3 step\"}\nif(flow.get('mash_steps') == 4){msg.payload = \"4 step\"}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 400,
        "y": 1360,
        "wires": [
            [
                "463a159e.091bec"
            ]
        ]
    },
    {
        "id": "1768fbdf.e822a4",
        "type": "ui_template",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "name": "Read only rest2",
        "order": 3,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "985c9662.9a80b8",
        "type": "ui_template",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "name": "Read only rest3",
        "order": 4,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "4eb91383.cbb9ec",
        "type": "ui_template",
        "z": "2e8b4e03.0be482",
        "group": "10057ba3.f09154",
        "name": "Read only rest4",
        "order": 5,
        "width": 8,
        "height": 1,
        "format": "<div ng-bind-html=\"msg.payload\" style=\"padding-left: 11px; color: grey\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 640,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "3557bbc8.2f52c4",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Scheduler update",
        "links": [
            "a95b7e66.9f40c"
        ],
        "x": 175,
        "y": 1280,
        "wires": [
            [
                "b6f5219a.80732"
            ]
        ]
    },
    {
        "id": "b6f5219a.80732",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "UI updates",
        "func": "if(global.get('scheduler')){\n    msg.payload = {group:{show:[\"Mash_Schedule_Control4\", \"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_MASH_SCHEDULE\"], hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control2\"]}}\n} else {\n    if(flow.get('mash_start')== \"now\"){\n        msg.payload = {group:{show:[\"Mash_Schedule_MASH_SCHEDULE\", \"Mash_Schedule_Control1\"], hide:[\"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_Control4\"]}}\n    } else {\n        msg.payload = {group:{show:[\"Mash_Schedule_MASH_SCHEDULE\", \"Mash_Schedule_Control1\", \"Mash_Schedule_Control2\"], hide:[\"Mash_Schedule_MASH_SCHEDULE2\", \"Mash_Schedule_Control4\"]}}\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 1280,
        "wires": [
            [
                "cb0ab691.85cfa8"
            ]
        ]
    },
    {
        "id": "cb0ab691.85cfa8",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Timer visibility",
        "links": [
            "2236b7d.9373b48"
        ],
        "x": 575,
        "y": 1280,
        "wires": []
    },
    {
        "id": "b3af579c.ee4d58",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "rest2 length and temp",
        "func": "msg.payload = `Rest 2 ${flow.get('rest2_length')}m @ ${flow.get('rest2_temp')}°F`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 1440,
        "wires": [
            [
                "1768fbdf.e822a4"
            ]
        ]
    },
    {
        "id": "731d7817.fe2d48",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "rest3 length and temp",
        "func": "msg.payload = `Rest 3 ${flow.get('rest3_length')}m @ ${flow.get('rest3_temp')}°F`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 1480,
        "wires": [
            [
                "985c9662.9a80b8"
            ]
        ]
    },
    {
        "id": "fff6087e.889958",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "rest4 length and temp",
        "func": "msg.payload = `Rest 4 ${flow.get('rest4_length')}m @ ${flow.get('rest4_temp')}°F`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 1520,
        "wires": [
            [
                "4eb91383.cbb9ec"
            ]
        ]
    },
    {
        "id": "3381d20.a31e52e",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "rest1 read only",
        "links": [
            "34d2f008.51ae8",
            "6ecd145b.7c88cc"
        ],
        "x": 175,
        "y": 1400,
        "wires": [
            [
                "21863759.8b54e8"
            ]
        ]
    },
    {
        "id": "32b5c59d.c4a76a",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "rest2 read only",
        "links": [
            "c3f9c663.28f128",
            "4c6a6de8.7aa1d4"
        ],
        "x": 175,
        "y": 1440,
        "wires": [
            [
                "b3af579c.ee4d58"
            ]
        ]
    },
    {
        "id": "bc4aef1b.d213b",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "rest 3 read only",
        "links": [
            "1091477c.3af689",
            "dffa414e.a5c78"
        ],
        "x": 175,
        "y": 1480,
        "wires": [
            [
                "731d7817.fe2d48"
            ]
        ]
    },
    {
        "id": "8b5b440b.bcf868",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "rest4 read only",
        "links": [
            "9c42de20.0933b",
            "87d6dca9.f4912"
        ],
        "x": 175,
        "y": 1520,
        "wires": [
            [
                "fff6087e.889958"
            ]
        ]
    },
    {
        "id": "34d2f008.51ae8",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest1 length",
        "links": [
            "af5d2fc8.cdc5a",
            "3381d20.a31e52e"
        ],
        "x": 535,
        "y": 600,
        "wires": []
    },
    {
        "id": "4c6a6de8.7aa1d4",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest2 length",
        "links": [
            "af5d2fc8.cdc5a",
            "32b5c59d.c4a76a"
        ],
        "x": 535,
        "y": 700,
        "wires": []
    },
    {
        "id": "dffa414e.a5c78",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest3 length",
        "links": [
            "af5d2fc8.cdc5a",
            "bc4aef1b.d213b"
        ],
        "x": 535,
        "y": 840,
        "wires": []
    },
    {
        "id": "9c42de20.0933b",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest4 length",
        "links": [
            "af5d2fc8.cdc5a",
            "8b5b440b.bcf868"
        ],
        "x": 535,
        "y": 940,
        "wires": []
    },
    {
        "id": "6ecd145b.7c88cc",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest1 temp",
        "links": [
            "3381d20.a31e52e"
        ],
        "x": 955,
        "y": 600,
        "wires": []
    },
    {
        "id": "c3f9c663.28f128",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest2 temp",
        "links": [
            "32b5c59d.c4a76a"
        ],
        "x": 955,
        "y": 700,
        "wires": []
    },
    {
        "id": "1091477c.3af689",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest3 temp",
        "links": [
            "bc4aef1b.d213b"
        ],
        "x": 955,
        "y": 840,
        "wires": []
    },
    {
        "id": "87d6dca9.f4912",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "rest4 temp",
        "links": [
            "8b5b440b.bcf868"
        ],
        "x": 955,
        "y": 940,
        "wires": []
    },
    {
        "id": "8436a827.5eba38",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Mash step readonly",
        "links": [
            "7ee307fe.94e4b8"
        ],
        "x": 175,
        "y": 1360,
        "wires": [
            [
                "be2d57b3.646018"
            ]
        ]
    },
    {
        "id": "c0c8fb86.9054b8",
        "type": "function",
        "z": "2e8b4e03.0be482",
        "name": "Show read only schedule",
        "func": "if(global.get('scheduler')){\n  if(flow.get('mash_steps') === 0){msg.payload = {group:{hide:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest1b\"]}}}\n  if(flow.get('mash_steps') == 1){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2b\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\"]}}}\n  if(flow.get('mash_steps') == 2){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\"]}}}\n  if(flow.get('mash_steps') == 3){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest4b\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest3b\"]}}}\n  if(flow.get('mash_steps') == 4){msg.payload = {group:{hide:[\"Mash_Schedule_Rest4\", \"Mash_Schedule_Rest3\", \"Mash_Schedule_Rest2\", \"Mash_Schedule_Rest1\"], show:[\"Mash_Schedule_Control1\", \"Mash_Schedule_Control3\", \"Mash_Schedule_Rest1b\", \"Mash_Schedule_Rest2b\", \"Mash_Schedule_Rest3b\", \"Mash_Schedule_Rest4b\"]}}}}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 390,
        "y": 1320,
        "wires": [
            [
                "bd29f7ad.778a08"
            ]
        ]
    },
    {
        "id": "ab7b63df.5ea9",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "Scheduler update",
        "links": [
            "a95b7e66.9f40c"
        ],
        "x": 175,
        "y": 1320,
        "wires": [
            [
                "c0c8fb86.9054b8"
            ]
        ]
    },
    {
        "id": "bd29f7ad.778a08",
        "type": "link out",
        "z": "2e8b4e03.0be482",
        "name": "Timer visibility",
        "links": [
            "2236b7d.9373b48"
        ],
        "x": 575,
        "y": 1320,
        "wires": []
    },
    {
        "id": "4a1cf4b9.52ba9c",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "7b84d85a.e62258",
            "8d5ba72d.f9ca68"
        ],
        "x": 155,
        "y": 260,
        "wires": [
            [
                "626814ac.49ed4c"
            ]
        ]
    },
    {
        "id": "a5f730a5.de994",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "5fb42070.3f70d",
            "dfe6643a.bb5018"
        ],
        "x": 155,
        "y": 560,
        "wires": [
            [
                "db187e4d.25977"
            ]
        ]
    },
    {
        "id": "c8b8864e.ddb288",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "e2d538b4.03ee98",
            "f23d16c4.63ca88"
        ],
        "x": 155,
        "y": 660,
        "wires": [
            [
                "e04e58fa.4c8228"
            ]
        ]
    },
    {
        "id": "34d9f2b3.f80b9e",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "d332f25.ecbef1",
            "e1fa9598.61e8c8"
        ],
        "x": 155,
        "y": 800,
        "wires": [
            [
                "a68dd227.939e4"
            ]
        ]
    },
    {
        "id": "110043db.b191ec",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "c67a14ee.a6d5a8",
            "cd3d8bbe.26c4e8"
        ],
        "x": 155,
        "y": 900,
        "wires": [
            [
                "378717e7.44f3c8"
            ]
        ]
    },
    {
        "id": "1cb33073.b874b",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "3255ff95.2acfb",
            "d2ae9cb6.da5fc"
        ],
        "x": 615,
        "y": 560,
        "wires": [
            [
                "c13b1ef0.d5161"
            ]
        ]
    },
    {
        "id": "154e5432.e4f42c",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "1642a376.00d4fd",
            "d7185283.0f8b7"
        ],
        "x": 615,
        "y": 660,
        "wires": [
            [
                "4f3c1329.ffd81c"
            ]
        ]
    },
    {
        "id": "2c6ca298.e81e2e",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "e84942c1.46001",
            "7415e6e3.d23e88"
        ],
        "x": 615,
        "y": 800,
        "wires": [
            [
                "3bd5ac40.63f504"
            ]
        ]
    },
    {
        "id": "529c5598.6e49cc",
        "type": "link in",
        "z": "2e8b4e03.0be482",
        "name": "",
        "links": [
            "5513fb56.dbb7b4",
            "94989c6f.965a8"
        ],
        "x": 615,
        "y": 900,
        "wires": [
            [
                "82978961.a30bd8"
            ]
        ]
    },
    {
        "id": "49046c70.a043a4",
        "type": "function",
        "z": "2ec55204.a37cde",
        "name": "num of mash steps",
        "func": "var count = msg.payload.mashStepsCount + 1\nmsg.payload = count;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 650,
        "y": 80,
        "wires": [
            [
                "8d5ba72d.f9ca68"
            ]
        ]
    },
    {
        "id": "8d5ba72d.f9ca68",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "",
        "links": [
            "4a1cf4b9.52ba9c"
        ],
        "x": 795,
        "y": 80,
        "wires": []
    },
    {
        "id": "4ff03918.0f3078",
        "type": "function",
        "z": "2ec55204.a37cde",
        "name": "step times",
        "func": "var batch = msg.payload;\nvar numOfSteps = batch.mashStepsCount;\nvar times = [{payload: 0}, null, null, null]\n\nfor (var i = 1; i <= numOfSteps; i++) {\n    times[i] = { payload: batch.recipe.mash.steps[i-1].stepTime }\n}\n\nreturn times;",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 140,
        "wires": [
            [
                "dfe6643a.bb5018"
            ],
            [
                "f23d16c4.63ca88"
            ],
            [
                "e1fa9598.61e8c8"
            ],
            [
                "cd3d8bbe.26c4e8"
            ]
        ]
    },
    {
        "id": "dfe6643a.bb5018",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "",
        "links": [
            "a5f730a5.de994"
        ],
        "x": 735,
        "y": 120,
        "wires": []
    },
    {
        "id": "f23d16c4.63ca88",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "",
        "links": [
            "c8b8864e.ddb288"
        ],
        "x": 775,
        "y": 140,
        "wires": []
    },
    {
        "id": "e1fa9598.61e8c8",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "",
        "links": [
            "34d9f2b3.f80b9e"
        ],
        "x": 815,
        "y": 160,
        "wires": []
    },
    {
        "id": "cd3d8bbe.26c4e8",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "",
        "links": [
            "110043db.b191ec"
        ],
        "x": 855,
        "y": 180,
        "wires": []
    },
    {
        "id": "44c5d4d0.c0f36c",
        "type": "function",
        "z": "2ec55204.a37cde",
        "name": "stemp temps",
        "func": "var batch = msg.payload;\nvar temps = batch.recipe.mash.steps.map(function(step) {\n    return { payload: step.stepTemp }\n});\nreturn temps;",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 220,
        "wires": [
            [
                "d2ae9cb6.da5fc"
            ],
            [
                "d7185283.0f8b7"
            ],
            [
                "7415e6e3.d23e88"
            ],
            [
                "94989c6f.965a8"
            ]
        ]
    },
    {
        "id": "d2ae9cb6.da5fc",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "BF stemp temp 1",
        "links": [
            "fd1ebd5f.d30ff",
            "1cb33073.b874b"
        ],
        "x": 735,
        "y": 200,
        "wires": []
    },
    {
        "id": "d7185283.0f8b7",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "BF stemp temp 2",
        "links": [
            "154e5432.e4f42c"
        ],
        "x": 775,
        "y": 220,
        "wires": []
    },
    {
        "id": "7415e6e3.d23e88",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "BF stemp temp 3",
        "links": [
            "2c6ca298.e81e2e"
        ],
        "x": 815,
        "y": 240,
        "wires": []
    },
    {
        "id": "94989c6f.965a8",
        "type": "link out",
        "z": "2ec55204.a37cde",
        "name": "BF stemp temp 4",
        "links": [
            "529c5598.6e49cc"
        ],
        "x": 855,
        "y": 260,
        "wires": []
    },
    {
        "id": "7e0eb13d.8968f",
        "type": "function",
        "z": "2ec55204.a37cde",
        "name": "take first batch",
        "func": "//msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 160,
        "wires": [
            [
                "4ff03918.0f3078",
                "49046c70.a043a4",
                "44c5d4d0.c0f36c",
                "998cdc7.1392b2"
            ]
        ]
    },
    {
        "id": "998cdc7.1392b2",
        "type": "function",
        "z": "2ec55204.a37cde",
        "name": "recipe info",
        "func": "var batch = msg.payload;\nmsg.batchName = batch.name;\nmsg.batchNumber = batch.batchNo;\nmsg.recipeName = batch.recipe.name;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "700d7c0f.c668f4"
            ]
        ]
    },
    {
        "id": "700d7c0f.c668f4",
        "type": "ui_template",
        "z": "2ec55204.a37cde",
        "group": "23f88a1c.84f826",
        "name": "",
        "order": 5,
        "width": 8,
        "height": 2,
        "format": "<div style=\"text-align: center; font-size: 20px\">\n    <div style=\"width: 100%\">\n        <span>{{msg.batchName || '&lt;recipe info not loaded&gt;'}}</span>\n        <span>{{msg.batchNumber}}</span>\n    </div>\n    <span>{{msg.recipeName}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 880,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "b5bb4b98.a7d1b8",
        "type": "ui_button",
        "z": "2ec55204.a37cde",
        "name": "",
        "group": "23f88a1c.84f826",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Load it!",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "e537e264.070da"
            ]
        ]
    },
    {
        "id": "343a19e3.e45ee6",
        "type": "inject",
        "z": "2ec55204.a37cde",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 810,
        "y": 320,
        "wires": [
            [
                "700d7c0f.c668f4"
            ]
        ]
    },
    {
        "id": "9e4af63f.f97e18",
        "type": "moment",
        "z": "2e8b4e03.0be482",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Detroit",
        "adjAmount": "0",
        "adjType": "days",
        "adjDir": "add",
        "format": "LTS",
        "locale": "sv_SE",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Detroit",
        "x": 540,
        "y": 1800,
        "wires": [
            [
                "bb1861b4.27b1e"
            ]
        ]
    },
    {
        "id": "c5893ce0.2d82f",
        "type": "link in",
        "z": "6e183626.a434a8",
        "name": "BK Volume logger",
        "links": [
            "5293f78c.df80b8"
        ],
        "x": 175,
        "y": 1020,
        "wires": [
            [
                "5a176e04.4efaf"
            ]
        ]
    },
    {
        "id": "5a176e04.4efaf",
        "type": "switch",
        "z": "6e183626.a434a8",
        "name": "Output logging on?",
        "property": "volume_log",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 1020,
        "wires": [
            [
                "b14d6277.e1a1d"
            ]
        ]
    },
    {
        "id": "d0933e9e.49b3f",
        "type": "function",
        "z": "6e183626.a434a8",
        "name": "Format output for influxdb",
        "func": "msg.payload = [\n    {\n        measurement: \"volume-BK\",\n        fields: {\n            volume: msg.volume,\n            target: msg.target,\n            brew: global.get(\"brew-label\")\n        },\n        timestamp: new Date()\n    }\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 940,
        "y": 1020,
        "wires": [
            [
                "fb888e64.1269b"
            ]
        ]
    },
    {
        "id": "b14d6277.e1a1d",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 1020,
        "wires": [
            [
                "d8f5ed9.94d681"
            ]
        ]
    },
    {
        "id": "d8f5ed9.94d681",
        "type": "delay",
        "z": "6e183626.a434a8",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 700,
        "y": 1020,
        "wires": [
            [
                "d0933e9e.49b3f"
            ]
        ]
    },
    {
        "id": "2c9e3f21.8c1d9",
        "type": "inject",
        "z": "6e183626.a434a8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 590,
        "y": 360,
        "wires": [
            [
                "91af0761.eb3d28",
                "eda412a1.3d44a"
            ]
        ]
    },
    {
        "id": "91af0761.eb3d28",
        "type": "change",
        "z": "6e183626.a434a8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "volume_log",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "eda412a1.3d44a",
        "type": "ui_switch",
        "z": "6e183626.a434a8",
        "name": "",
        "label": "Volume",
        "tooltip": "",
        "group": "e804feb2.b941b",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "91af0761.eb3d28"
            ]
        ]
    },
    {
        "id": "5f749447.a00adc",
        "type": "ui_dropdown",
        "z": "2ec55204.a37cde",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select batch",
        "group": "23f88a1c.84f826",
        "order": 3,
        "width": 8,
        "height": 1,
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 200,
        "y": 420,
        "wires": [
            [
                "1896ef23.523251"
            ]
        ]
    },
    {
        "id": "c452a0ed.40ac4",
        "type": "inject",
        "z": "2ec55204.a37cde",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "2a10e199.845cfe"
            ]
        ]
    },
    {
        "id": "4df16fae.603bd",
        "type": "function",
        "z": "2ec55204.a37cde",
        "name": "transform options",
        "func": "var options = msg.payload.map(function(batch) {\n    var label = batch.name + \" #\" + batch.batchNo + \" - \" + batch.recipe.name;\n    var option = {};\n    option[label] = batch._id;\n    return option;\n});\nmsg.options = options;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 210,
        "y": 380,
        "wires": [
            [
                "5f749447.a00adc"
            ]
        ]
    },
    {
        "id": "1896ef23.523251",
        "type": "change",
        "z": "2ec55204.a37cde",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "selected_batch_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "fed14b57.6ef188",
        "type": "sort",
        "z": "2ec55204.a37cde",
        "name": "",
        "order": "descending",
        "as_num": true,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "payload.batchNo",
        "msgKeyType": "jsonata",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 150,
        "y": 340,
        "wires": [
            [
                "4df16fae.603bd"
            ]
        ]
    },
    {
        "id": "2a10e199.845cfe",
        "type": "brewfather-api-request",
        "z": "2ec55204.a37cde",
        "name": "Get Batches",
        "property": "payload",
        "propertyType": "msg",
        "endpoint": "getbatches",
        "include": [],
        "complete": true,
        "inventoryexist": false,
        "inventoryadjust": "",
        "inventory": "",
        "status": "Planning",
        "offset": 0,
        "limit": 10,
        "x": 150,
        "y": 300,
        "wires": [
            [
                "fed14b57.6ef188",
                "eda6d845.15d148"
            ]
        ]
    },
    {
        "id": "e537e264.070da",
        "type": "brewfather-api-request",
        "z": "2ec55204.a37cde",
        "name": "Get Batch",
        "property": "selected_batch_id",
        "propertyType": "flow",
        "endpoint": "getbatch",
        "include": [],
        "complete": false,
        "inventoryexist": false,
        "inventoryadjust": "",
        "inventory": "",
        "status": "Planning",
        "offset": 0,
        "limit": 10,
        "x": 240,
        "y": 160,
        "wires": [
            [
                "7e0eb13d.8968f",
                "6c036ec9.b89dc"
            ]
        ]
    },
    {
        "id": "eda6d845.15d148",
        "type": "debug",
        "z": "2ec55204.a37cde",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 340,
        "wires": []
    },
    {
        "id": "6c036ec9.b89dc",
        "type": "debug",
        "z": "2ec55204.a37cde",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 400,
        "y": 220,
        "wires": []
    },
    {
        "id": "b01c6663.c303d8",
        "type": "ui_button",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 200,
        "y": 80,
        "wires": [
            [
                "74f61cc4.a648a4"
            ]
        ]
    },
    {
        "id": "9feb0888.48f108",
        "type": "ui_button",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "PID",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 190,
        "y": 40,
        "wires": [
            [
                "6f7d528b.227ccc"
            ]
        ]
    },
    {
        "id": "34016838.b820a8",
        "type": "ui_button",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "",
        "x": 190,
        "y": 120,
        "wires": [
            [
                "e53dc7fd.87cb08"
            ]
        ]
    },
    {
        "id": "fc6b549.49394a8",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "PID button colour",
        "links": [
            "61614745.f5ef28",
            "cd8fd53.01d4928"
        ],
        "x": 75,
        "y": 40,
        "wires": [
            [
                "9feb0888.48f108"
            ]
        ]
    },
    {
        "id": "53b360d1.958d3",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Manual button colour",
        "links": [
            "8b8953da.52e07"
        ],
        "x": 75,
        "y": 80,
        "wires": [
            [
                "b01c6663.c303d8"
            ]
        ]
    },
    {
        "id": "7986da4c.6cbd14",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Off button colour",
        "links": [
            "91cd0b06.6ee7c8"
        ],
        "x": 75,
        "y": 120,
        "wires": [
            [
                "34016838.b820a8"
            ]
        ]
    },
    {
        "id": "6f7d528b.227ccc",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "PID button",
        "links": [
            "f568260d.51fbb8",
            "f8d386e5.d7d408",
            "52dab340.038bdc",
            "9b7a09ba.3cce78"
        ],
        "x": 315,
        "y": 40,
        "wires": []
    },
    {
        "id": "74f61cc4.a648a4",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "Manual button",
        "links": [
            "154a58bf.5cb887",
            "f568260d.51fbb8",
            "f8d386e5.d7d408",
            "2c7dae11.6f2842",
            "9b7a09ba.3cce78"
        ],
        "x": 315,
        "y": 80,
        "wires": []
    },
    {
        "id": "e53dc7fd.87cb08",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "Off button",
        "links": [
            "756c6eb.75dcb9",
            "f568260d.51fbb8",
            "f9b450.7dd55bb",
            "f8d386e5.d7d408",
            "67223ebc.c486d",
            "9b7a09ba.3cce78"
        ],
        "x": 315,
        "y": 120,
        "wires": []
    },
    {
        "id": "26f7496f.52bdc6",
        "type": "delay",
        "z": "db5d02b4.8e6d1",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 190,
        "y": 280,
        "wires": [
            [
                "1868ea63.078916"
            ]
        ]
    },
    {
        "id": "61614745.f5ef28",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "PID button colour",
        "links": [
            "fc6b549.49394a8"
        ],
        "x": 635,
        "y": 300,
        "wires": []
    },
    {
        "id": "9b7a09ba.3cce78",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Button click",
        "links": [
            "74f61cc4.a648a4",
            "e53dc7fd.87cb08",
            "6f7d528b.227ccc",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 75,
        "y": 280,
        "wires": [
            [
                "26f7496f.52bdc6"
            ]
        ]
    },
    {
        "id": "4ef44b6a.8ffd24",
        "type": "change",
        "z": "db5d02b4.8e6d1",
        "name": "hlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 420,
        "wires": [
            [
                "8b8953da.52e07"
            ]
        ]
    },
    {
        "id": "8b667cbe.4542f",
        "type": "change",
        "z": "db5d02b4.8e6d1",
        "name": "hlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 380,
        "wires": [
            [
                "8b8953da.52e07"
            ]
        ]
    },
    {
        "id": "6dae3951.0b2a98",
        "type": "switch",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 420,
        "wires": [
            [
                "b8aa0cf8.cdca6"
            ],
            [
                "4ef44b6a.8ffd24"
            ]
        ]
    },
    {
        "id": "ac86dd8.f5ee22",
        "type": "delay",
        "z": "db5d02b4.8e6d1",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 190,
        "y": 380,
        "wires": [
            [
                "6dae3951.0b2a98"
            ]
        ]
    },
    {
        "id": "8b8953da.52e07",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "Manual button colour",
        "links": [
            "53b360d1.958d3"
        ],
        "x": 615,
        "y": 400,
        "wires": []
    },
    {
        "id": "581bdbb3.5d2e84",
        "type": "change",
        "z": "db5d02b4.8e6d1",
        "name": "hlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 540,
        "wires": [
            [
                "91cd0b06.6ee7c8"
            ]
        ]
    },
    {
        "id": "d99e6614.3f70d8",
        "type": "change",
        "z": "db5d02b4.8e6d1",
        "name": "hlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 500,
        "wires": [
            [
                "91cd0b06.6ee7c8"
            ]
        ]
    },
    {
        "id": "47e9078d.920ca8",
        "type": "switch",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 520,
        "wires": [
            [
                "d99e6614.3f70d8"
            ],
            [
                "581bdbb3.5d2e84"
            ]
        ]
    },
    {
        "id": "55245f97.51bde",
        "type": "delay",
        "z": "db5d02b4.8e6d1",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 190,
        "y": 480,
        "wires": [
            [
                "47e9078d.920ca8"
            ]
        ]
    },
    {
        "id": "91cd0b06.6ee7c8",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "Off button colour",
        "links": [
            "7986da4c.6cbd14",
            "3e0efd1.4d98882",
            "c98ea849.baf91"
        ],
        "x": 475,
        "y": 520,
        "wires": []
    },
    {
        "id": "b8aa0cf8.cdca6",
        "type": "switch",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "property": "hlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 400,
        "wires": [
            [
                "8b667cbe.4542f"
            ],
            [
                "4ef44b6a.8ffd24"
            ]
        ]
    },
    {
        "id": "1868ea63.078916",
        "type": "switch",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 320,
        "wires": [
            [
                "5fee57fe.f9d3a8"
            ],
            [
                "bd53bfc3.96ddd"
            ]
        ]
    },
    {
        "id": "5fee57fe.f9d3a8",
        "type": "switch",
        "z": "db5d02b4.8e6d1",
        "name": "",
        "property": "hlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "317de8a.1f69a18"
            ],
            [
                "bd53bfc3.96ddd"
            ]
        ]
    },
    {
        "id": "317de8a.1f69a18",
        "type": "change",
        "z": "db5d02b4.8e6d1",
        "name": "hlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 280,
        "wires": [
            [
                "61614745.f5ef28"
            ]
        ]
    },
    {
        "id": "bd53bfc3.96ddd",
        "type": "change",
        "z": "db5d02b4.8e6d1",
        "name": "hlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 320,
        "wires": [
            [
                "61614745.f5ef28"
            ]
        ]
    },
    {
        "id": "f568260d.51fbb8",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Button click",
        "links": [
            "74f61cc4.a648a4",
            "e53dc7fd.87cb08",
            "6f7d528b.227ccc",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 75,
        "y": 380,
        "wires": [
            [
                "ac86dd8.f5ee22"
            ]
        ]
    },
    {
        "id": "f8d386e5.d7d408",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Button click",
        "links": [
            "74f61cc4.a648a4",
            "e53dc7fd.87cb08",
            "6f7d528b.227ccc",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 75,
        "y": 480,
        "wires": [
            [
                "55245f97.51bde"
            ]
        ]
    },
    {
        "id": "15b73631.03693a",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "da264a1a.5ffd18"
        ],
        "x": 75,
        "y": 320,
        "wires": [
            [
                "1868ea63.078916"
            ]
        ]
    },
    {
        "id": "1e8ebbe8.b66c44",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "da264a1a.5ffd18"
        ],
        "x": 75,
        "y": 420,
        "wires": [
            [
                "6dae3951.0b2a98"
            ]
        ]
    },
    {
        "id": "d966e1a4.e56cf",
        "type": "link in",
        "z": "db5d02b4.8e6d1",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "da264a1a.5ffd18"
        ],
        "x": 75,
        "y": 520,
        "wires": [
            [
                "47e9078d.920ca8"
            ]
        ]
    },
    {
        "id": "e5dd194.5d724e8",
        "type": "ui_ui_control",
        "z": "db5d02b4.8e6d1",
        "name": "Dashboard connection",
        "x": 160,
        "y": 200,
        "wires": [
            [
                "da264a1a.5ffd18"
            ]
        ]
    },
    {
        "id": "da264a1a.5ffd18",
        "type": "link out",
        "z": "db5d02b4.8e6d1",
        "name": "Button initialization on connection",
        "links": [
            "d966e1a4.e56cf",
            "15b73631.03693a",
            "1e8ebbe8.b66c44"
        ],
        "x": 315,
        "y": 200,
        "wires": []
    },
    {
        "id": "2014a1e9.be8c2e",
        "type": "inject",
        "z": "c522bae4.604dc8",
        "name": "Default Element Duty",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "6a5c482c.8f61e8",
                "919779b9.0f3078"
            ]
        ]
    },
    {
        "id": "ca4bbee.1fb554",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_lock=true",
        "rules": [
            {
                "t": "set",
                "p": "hlt_lock",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "d48f31f0.a9ec2",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_on = hlt_try",
        "rules": [
            {
                "t": "set",
                "p": "hlt_on",
                "pt": "global",
                "to": "hlt_try",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hlt_try",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1540,
        "wires": [
            [
                "39a19fc3.db525",
                "33edeee.ccb8112"
            ]
        ]
    },
    {
        "id": "39a19fc3.db525",
        "type": "switch",
        "z": "c522bae4.604dc8",
        "name": "hlt_on",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 1540,
        "wires": [
            [
                "ca4bbee.1fb554"
            ],
            [
                "d5b6cbea.be9898"
            ]
        ]
    },
    {
        "id": "21e5459a.75551a",
        "type": "switch",
        "z": "c522bae4.604dc8",
        "name": "Check rims_lock",
        "property": "rims_lock",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 1500,
        "wires": [
            [
                "2dea7a03.057516"
            ],
            [
                "b510c8ac.cdf3c8"
            ]
        ]
    },
    {
        "id": "d16862b.978a2a",
        "type": "ui_toast",
        "z": "c522bae4.604dc8",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "",
        "x": 550,
        "y": 1360,
        "wires": []
    },
    {
        "id": "2dea7a03.057516",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "Element lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not access boil kettle element controls while RIMS element is active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1400,
        "wires": [
            [
                "d16862b.978a2a"
            ]
        ]
    },
    {
        "id": "d5b6cbea.be9898",
        "type": "delay",
        "z": "c522bae4.604dc8",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 980,
        "y": 1560,
        "wires": [
            [
                "f4f8a019.53e33"
            ]
        ]
    },
    {
        "id": "f4f8a019.53e33",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_lock = false",
        "rules": [
            {
                "t": "set",
                "p": "hlt_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1600,
        "wires": [
            [
                "8121bf41.5e669"
            ]
        ]
    },
    {
        "id": "8121bf41.5e669",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "d": true,
        "name": "HLT Bolt update",
        "links": [
            "7439d993.b4d6b8"
        ],
        "x": 1115,
        "y": 1500,
        "wires": []
    },
    {
        "id": "33edeee.ccb8112",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "d": true,
        "name": "HLT Bolt update",
        "links": [
            "7439d993.b4d6b8"
        ],
        "x": 895,
        "y": 1480,
        "wires": []
    },
    {
        "id": "dcd66cbd.b5c1c",
        "type": "ui_numeric",
        "z": "c522bae4.604dc8",
        "name": "",
        "label": "K𝗉",
        "tooltip": "",
        "group": "5bdce100.b1b46",
        "order": 3,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "220",
        "step": "0.2",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "de713ccd.79e28"
            ]
        ]
    },
    {
        "id": "edac3a3.55619c8",
        "type": "ui_numeric",
        "z": "c522bae4.604dc8",
        "name": "",
        "label": "K𝗂",
        "tooltip": "",
        "group": "5bdce100.b1b46",
        "order": 5,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 620,
        "wires": [
            [
                "910c2c3.c370cd"
            ]
        ]
    },
    {
        "id": "b6078ac8.609218",
        "type": "ui_numeric",
        "z": "c522bae4.604dc8",
        "name": "",
        "label": "K𝖽",
        "tooltip": "",
        "group": "5bdce100.b1b46",
        "order": 7,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "11388b8d.a103d4"
            ]
        ]
    },
    {
        "id": "de713ccd.79e28",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "p",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "910c2c3.c370cd",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "set flow.i",
        "rules": [
            {
                "t": "set",
                "p": "i",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "11388b8d.a103d4",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "b0d7dd52.4e583",
        "type": "inject",
        "z": "c522bae4.604dc8",
        "name": "Default P",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "42",
        "payloadType": "num",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "dcd66cbd.b5c1c",
                "de713ccd.79e28"
            ]
        ]
    },
    {
        "id": "b7d0ba2c.c7a798",
        "type": "inject",
        "z": "c522bae4.604dc8",
        "name": "Default I",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.15",
        "payloadType": "num",
        "x": 100,
        "y": 580,
        "wires": [
            [
                "edac3a3.55619c8",
                "910c2c3.c370cd"
            ]
        ]
    },
    {
        "id": "a656a342.fd388",
        "type": "inject",
        "z": "c522bae4.604dc8",
        "name": "Default D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "25",
        "payloadType": "num",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "b6078ac8.609218",
                "11388b8d.a103d4"
            ]
        ]
    },
    {
        "id": "b24fdf47.e14da",
        "type": "inject",
        "z": "c522bae4.604dc8",
        "name": "Default HLT Target",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "83f24780.8fbd28",
                "f9ac84ad.7ba548",
                "3627243a.498d0c",
                "9372cc7b.efe6"
            ]
        ]
    },
    {
        "id": "f8a90dd9.684ee",
        "type": "function",
        "z": "c522bae4.604dc8",
        "name": "HLT PID",
        "func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\nnode.warn('Temp: ' + msg.payload);\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('hlt_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n\n// Calculate proportional action\nvar pTerm = msg.error * flow.get('p');\n\n// Calculate intergral action\nvar iTerm = 0;\nif (pTerm < msg.max_output) {\n    // Calculate integrator max\n    msg.integrator_max = msg.max_output/flow.get('i');\n    \n    // Update integrator\n    // For purposes of integrator, bound error by [-1, 1]\n    msg.integrator = flow.get('integrator');\n    msg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n    \n    // Bound total integrator by absolute maximum\n    msg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n    \n    // Output updated integrator to flow context\n    flow.set('integrator', msg.integrator);\n    \n    iTerm = msg.integrator * flow.get('i');\n}\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nvar dTerm = msg.derivative * flow.get('d');\n\nmsg.output = pTerm + iTerm + dTerm;\nnode.warn(pTerm + ' ' + iTerm + ' ' + dTerm);\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 100,
        "wires": [
            [
                "75721920.a5b0d8",
                "124ac83b.acdd88"
            ]
        ]
    },
    {
        "id": "952c97bf.ff9438",
        "type": "switch",
        "z": "c522bae4.604dc8",
        "name": "hlt_pid switch",
        "property": "hlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 280,
        "y": 120,
        "wires": [
            [
                "f8a90dd9.684ee",
                "1850bfba.6e586"
            ],
            [
                "b3c505bc.cd8d68"
            ]
        ]
    },
    {
        "id": "b3c505bc.cd8d68",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "payload = hlt_manual_duty",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hlt_manual_duty",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "75721920.a5b0d8"
            ]
        ]
    },
    {
        "id": "1cd37e75.592ad2",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "HLT PID temperature input",
        "links": [
            "afd8ba97.9f7c88"
        ],
        "x": 175,
        "y": 20,
        "wires": [
            [
                "6729867c.4e7978",
                "d5761f47.55d08"
            ]
        ]
    },
    {
        "id": "f9ac84ad.7ba548",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_target",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "75721920.a5b0d8",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "PID or Manual Duty",
        "links": [
            "c9c42dac.513e9",
            "a5f52b91.d1a608"
        ],
        "x": 695,
        "y": 100,
        "wires": []
    },
    {
        "id": "c21a5e9d.c6f06",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_pid, hlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1040,
        "wires": [
            [
                "423ebc06.1b8ff4"
            ]
        ]
    },
    {
        "id": "6c58cdb6.f54a44",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_pid = false, hlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 1080,
        "wires": [
            [
                "701dc04a.66b78"
            ]
        ]
    },
    {
        "id": "38ae4d2e.a06422",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_pid, hlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1000,
        "wires": [
            [
                "660ed2ee.6f9c8c"
            ]
        ]
    },
    {
        "id": "701dc04a.66b78",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "Boil Try Output",
        "links": [
            "2aeebac5.8f3906"
        ],
        "x": 515,
        "y": 1080,
        "wires": []
    },
    {
        "id": "2aeebac5.8f3906",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Boil Try Input",
        "links": [
            "701dc04a.66b78",
            "423ebc06.1b8ff4",
            "660ed2ee.6f9c8c"
        ],
        "x": 135,
        "y": 1420,
        "wires": [
            [
                "d48f31f0.a9ec2"
            ]
        ]
    },
    {
        "id": "6729867c.4e7978",
        "type": "switch",
        "z": "c522bae4.604dc8",
        "name": "hlt_on",
        "property": "hlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 130,
        "y": 120,
        "wires": [
            [
                "952c97bf.ff9438"
            ]
        ]
    },
    {
        "id": "919779b9.0f3078",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_manual_duty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "b61b7fc.b304c8",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "payload = 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1240,
        "wires": [
            [
                "77d6abda.c87b14"
            ]
        ]
    },
    {
        "id": "77d6abda.c87b14",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "Off Duty",
        "links": [
            "a5f52b91.d1a608",
            "c9c42dac.513e9"
        ],
        "x": 515,
        "y": 1240,
        "wires": []
    },
    {
        "id": "d02e7559.627ff8",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "Boil PID display",
        "links": [
            "5285e8f7.b9ad08",
            "eda67ad.0cd1d88",
            "9e654cdf.28d56"
        ],
        "x": 515,
        "y": 1160,
        "wires": []
    },
    {
        "id": "df3b2ef1.a80c4",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "Zero everything",
        "rules": [
            {
                "t": "set",
                "p": "last_error",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "derivative",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "last_error",
                "pt": "flow",
                "to": "last_error",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "flow",
                "to": "integrator",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "output",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "target",
                "pt": "msg",
                "to": "hlt_target",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 1160,
        "wires": [
            [
                "d02e7559.627ff8"
            ]
        ]
    },
    {
        "id": "124ac83b.acdd88",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "HLT PID display",
        "links": [
            "9e654cdf.28d56",
            "709c91f5.3e913"
        ],
        "x": 575,
        "y": 60,
        "wires": []
    },
    {
        "id": "52dab340.038bdc",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "PID button",
        "links": [
            "89ce3e25.3ad2f8",
            "6f7d528b.227ccc"
        ],
        "x": 135,
        "y": 1040,
        "wires": [
            [
                "c21a5e9d.c6f06"
            ]
        ]
    },
    {
        "id": "423ebc06.1b8ff4",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "Boil Try Output",
        "links": [
            "2aeebac5.8f3906"
        ],
        "x": 515,
        "y": 1040,
        "wires": []
    },
    {
        "id": "660ed2ee.6f9c8c",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "Boil Try Output",
        "links": [
            "2aeebac5.8f3906"
        ],
        "x": 515,
        "y": 1000,
        "wires": []
    },
    {
        "id": "2c7dae11.6f2842",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Manual button",
        "links": [
            "ed41478a.5a2028",
            "74f61cc4.a648a4"
        ],
        "x": 135,
        "y": 1080,
        "wires": [
            [
                "6c58cdb6.f54a44"
            ]
        ]
    },
    {
        "id": "154a58bf.5cb887",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Manual button",
        "links": [
            "ed41478a.5a2028",
            "74f61cc4.a648a4"
        ],
        "x": 135,
        "y": 1120,
        "wires": [
            [
                "df3b2ef1.a80c4"
            ]
        ]
    },
    {
        "id": "67223ebc.c486d",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Off button",
        "links": [
            "11c18a22.2ff07e",
            "fd8c477a.99a1a",
            "e53dc7fd.87cb08"
        ],
        "x": 135,
        "y": 1000,
        "wires": [
            [
                "38ae4d2e.a06422"
            ]
        ]
    },
    {
        "id": "756c6eb.75dcb9",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Off button",
        "links": [
            "e37a9387.42e7e",
            "d068c868.178e4",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a",
            "e53dc7fd.87cb08"
        ],
        "x": 135,
        "y": 1240,
        "wires": [
            [
                "b61b7fc.b304c8"
            ]
        ]
    },
    {
        "id": "20100681.a98dca",
        "type": "inject",
        "z": "c522bae4.604dc8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 780,
        "wires": [
            [
                "e37a9387.42e7e"
            ]
        ]
    },
    {
        "id": "f9b450.7dd55bb",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Off button",
        "links": [
            "e37a9387.42e7e",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a",
            "e53dc7fd.87cb08"
        ],
        "x": 135,
        "y": 1160,
        "wires": [
            [
                "df3b2ef1.a80c4"
            ]
        ]
    },
    {
        "id": "e37a9387.42e7e",
        "type": "link out",
        "z": "c522bae4.604dc8",
        "name": "Off button - initialization",
        "links": [
            "756c6eb.75dcb9",
            "bfa95eb8.9467b",
            "f9b450.7dd55bb"
        ],
        "x": 275,
        "y": 780,
        "wires": []
    },
    {
        "id": "bfa95eb8.9467b",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "Off button - initialization",
        "links": [
            "e37a9387.42e7e"
        ],
        "x": 135,
        "y": 960,
        "wires": [
            [
                "fc52ef41.05c58"
            ]
        ]
    },
    {
        "id": "fc52ef41.05c58",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "hlt_lock, hlt_on, hlt_pid, hlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_on",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "83f24780.8fbd28",
        "type": "ui_slider",
        "z": "c522bae4.604dc8",
        "name": "Kettle target slider",
        "label": "Target",
        "tooltip": "",
        "group": "6f025f7e.49cd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "220",
        "step": "1",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "f9ac84ad.7ba548",
                "3627243a.498d0c",
                "9372cc7b.efe6"
            ]
        ]
    },
    {
        "id": "6a5c482c.8f61e8",
        "type": "ui_slider",
        "z": "c522bae4.604dc8",
        "name": "Manual duty slider",
        "label": "Manual",
        "tooltip": "",
        "group": "6f025f7e.49cd3",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "919779b9.0f3078"
            ]
        ]
    },
    {
        "id": "40c4a353.94ebbc",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "3627243a.498d0c",
        "type": "ui_text",
        "z": "c522bae4.604dc8",
        "group": "5bdce100.b1b46",
        "order": 2,
        "width": 3,
        "height": 1,
        "name": "Kettle target",
        "label": "Target",
        "format": "{{payload | number:1}}°F",
        "layout": "col-center",
        "x": 430,
        "y": 420,
        "wires": []
    },
    {
        "id": "d5761f47.55d08",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp-HLT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b510c8ac.cdf3c8",
        "type": "switch",
        "z": "c522bae4.604dc8",
        "name": "check minimum volume",
        "property": "current_volume",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 1560,
        "wires": [
            [
                "77a8c94a.9dbaf8"
            ],
            []
        ]
    },
    {
        "id": "77a8c94a.9dbaf8",
        "type": "change",
        "z": "c522bae4.604dc8",
        "name": "Lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not turn element on as walter level is below 8L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1440,
        "wires": [
            [
                "b33b4008.17535"
            ]
        ]
    },
    {
        "id": "b33b4008.17535",
        "type": "ui_toast",
        "z": "c522bae4.604dc8",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 730,
        "y": 1480,
        "wires": []
    },
    {
        "id": "1850bfba.6e586",
        "type": "debug",
        "z": "c522bae4.604dc8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 220,
        "wires": []
    },
    {
        "id": "8a1ed48.8beca28",
        "type": "link in",
        "z": "c522bae4.604dc8",
        "name": "HLT kettle target temp",
        "links": [],
        "x": 35,
        "y": 360,
        "wires": [
            [
                "83f24780.8fbd28"
            ]
        ]
    },
    {
        "id": "f99d95d2.e00108",
        "type": "smooth",
        "z": "78092a27.0e2d74",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "1",
        "mult": "single",
        "reduce": false,
        "x": 1120,
        "y": 160,
        "wires": [
            [
                "c04adfa6.4a55d"
            ]
        ]
    },
    {
        "id": "1de2f7da.a00cd8",
        "type": "sensor-ds18b20",
        "z": "78092a27.0e2d74",
        "name": "temp-HLT",
        "sensorid": "28-01192e07b594",
        "timer": "2",
        "repeat": false,
        "x": 320,
        "y": 100,
        "wires": [
            [
                "d5724f8a.756a8"
            ]
        ]
    },
    {
        "id": "afd8ba97.9f7c88",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "HLT calibrated temperature",
        "links": [
            "1cd37e75.592ad2",
            "cccb604e.0943a",
            "a1481c3f.24b6f",
            "d7f77fe1.72474"
        ],
        "x": 1075,
        "y": 20,
        "wires": []
    },
    {
        "id": "82ba8061.7e6db",
        "type": "ui_text",
        "z": "78092a27.0e2d74",
        "group": "5bdce100.b1b46",
        "order": 1,
        "width": 3,
        "height": 1,
        "name": "HLT temperature display",
        "label": "Kettle",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 1250,
        "y": 80,
        "wires": []
    },
    {
        "id": "b8be9b2c.00aff8",
        "type": "function",
        "z": "78092a27.0e2d74",
        "name": "calibrated HLT temp value",
        "func": "var rawHigh = global.get('HLT-raw-high');\nvar rawLow = global.get('HLT-raw-low');\n\nvar referenceHigh = 212;\nvar referenceLow = 0.0;\nvar rawRange = rawHigh - rawLow;\nvar referenceRange = referenceHigh - referenceLow;\n\nvar rawValue = msg.payload;\n\nvar correctedValue = (((rawValue - rawLow) * referenceRange) / rawRange) + referenceLow;\nmsg.payload = correctedValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 80,
        "wires": [
            [
                "f99d95d2.e00108",
                "afd8ba97.9f7c88",
                "82ba8061.7e6db"
            ]
        ]
    },
    {
        "id": "c3cfaff3.d3837",
        "type": "inject",
        "z": "78092a27.0e2d74",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 310,
        "y": 160,
        "wires": [
            [
                "b8be9b2c.00aff8"
            ]
        ]
    },
    {
        "id": "4bed3661.ec9128",
        "type": "link out",
        "z": "78092a27.0e2d74",
        "name": "HLT raw temperature",
        "links": [
            "3a5732f0.a318be"
        ],
        "x": 715,
        "y": 40,
        "wires": []
    },
    {
        "id": "53c849b8.815ff8",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "5bdce100.b1b46",
        "order": 6,
        "width": 2,
        "height": 1,
        "name": "HLT PID Integrator",
        "label": "Integral",
        "format": "{{integrator | number:1}}°F⦁s",
        "layout": "col-center",
        "x": 410,
        "y": 80,
        "wires": []
    },
    {
        "id": "f419a5d8.859268",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "5bdce100.b1b46",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "HLT PID Error",
        "label": "Error",
        "format": "{{last_error | number:1}}°F",
        "layout": "col-center",
        "x": 400,
        "y": 40,
        "wires": []
    },
    {
        "id": "7ed2e7b2.87dd28",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "5bdce100.b1b46",
        "order": 8,
        "width": 2,
        "height": 1,
        "name": "HLT PID Derivative",
        "label": "Derivative",
        "format": "{{derivative | number:1}}°F/s",
        "layout": "col-center",
        "x": 410,
        "y": 120,
        "wires": []
    },
    {
        "id": "709c91f5.3e913",
        "type": "link in",
        "z": "7dba9555.09d61c",
        "name": "HLT PID display",
        "links": [
            "124ac83b.acdd88"
        ],
        "x": 215,
        "y": 80,
        "wires": [
            [
                "53c849b8.815ff8",
                "7ed2e7b2.87dd28",
                "f419a5d8.859268"
            ]
        ]
    },
    {
        "id": "6f5532c2.c7323c",
        "type": "rpi-gpio out",
        "z": "e54ae304.78e86",
        "name": "HLT GPIO",
        "pin": "36",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 500,
        "y": 20,
        "wires": []
    },
    {
        "id": "c9c42dac.513e9",
        "type": "link in",
        "z": "e54ae304.78e86",
        "name": "HLT GPIO",
        "links": [
            "75721920.a5b0d8",
            "77d6abda.c87b14"
        ],
        "x": 195,
        "y": 100,
        "wires": [
            [
                "6f5532c2.c7323c",
                "ab2c1954.bfcc78"
            ]
        ]
    },
    {
        "id": "847d8e46.55071",
        "type": "ui_text",
        "z": "2e3144a8.9b713c",
        "group": "4a8e3f4b.cad74",
        "order": 1,
        "width": 6,
        "height": 1,
        "name": "HLT Raw temperature",
        "label": "Raw",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 580,
        "y": 180,
        "wires": []
    },
    {
        "id": "3a5732f0.a318be",
        "type": "link in",
        "z": "2e3144a8.9b713c",
        "name": "HLT raw temperature input",
        "links": [
            "4bed3661.ec9128"
        ],
        "x": 355,
        "y": 180,
        "wires": [
            [
                "847d8e46.55071"
            ]
        ]
    },
    {
        "id": "a1481c3f.24b6f",
        "type": "link in",
        "z": "2e3144a8.9b713c",
        "name": "HLT calibrated temperature input",
        "links": [
            "afd8ba97.9f7c88"
        ],
        "x": 355,
        "y": 240,
        "wires": [
            [
                "698b53c.0913dac"
            ]
        ]
    },
    {
        "id": "698b53c.0913dac",
        "type": "ui_text",
        "z": "2e3144a8.9b713c",
        "group": "4a8e3f4b.cad74",
        "order": 2,
        "width": 6,
        "height": 1,
        "name": "HLT Calibrated temperature",
        "label": "Calibrated",
        "format": "{{msg.payload | number:1}}°F",
        "layout": "col-center",
        "x": 580,
        "y": 240,
        "wires": []
    },
    {
        "id": "e1217e8e.01e74",
        "type": "ui_numeric",
        "z": "2e3144a8.9b713c",
        "name": "HLT Raw High",
        "label": "Raw high",
        "tooltip": "",
        "group": "4a8e3f4b.cad74",
        "order": 4,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": 0,
        "max": "220",
        "step": ".5",
        "x": 1160,
        "y": 120,
        "wires": [
            [
                "a7efedb6.fbf3d"
            ]
        ]
    },
    {
        "id": "7f42d132.778ff",
        "type": "inject",
        "z": "2e3144a8.9b713c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "212",
        "payloadType": "num",
        "x": 930,
        "y": 160,
        "wires": [
            [
                "a7efedb6.fbf3d",
                "e1217e8e.01e74"
            ]
        ]
    },
    {
        "id": "3fcf33c.3a2a5cc",
        "type": "ui_numeric",
        "z": "2e3144a8.9b713c",
        "name": "HLT Raw Low",
        "label": "Raw low",
        "tooltip": "",
        "group": "4a8e3f4b.cad74",
        "order": 3,
        "width": 6,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}°F",
        "min": "-40",
        "max": "220",
        "step": ".5",
        "x": 1160,
        "y": 200,
        "wires": [
            [
                "47be0ea9.d267"
            ]
        ]
    },
    {
        "id": "a7efedb6.fbf3d",
        "type": "change",
        "z": "2e3144a8.9b713c",
        "name": "set global.HLT-raw-high",
        "rules": [
            {
                "t": "set",
                "p": "HLT-raw-high",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b4dcf821.ea8c18",
        "type": "inject",
        "z": "2e3144a8.9b713c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 930,
        "y": 240,
        "wires": [
            [
                "47be0ea9.d267",
                "3fcf33c.3a2a5cc"
            ]
        ]
    },
    {
        "id": "47be0ea9.d267",
        "type": "change",
        "z": "2e3144a8.9b713c",
        "name": "set global.HLT-raw-low",
        "rules": [
            {
                "t": "set",
                "p": "HLT-raw-low",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8b2ea2f1.0d2d1",
        "type": "link in",
        "z": "1a72a84.1b49058",
        "name": "MLT bolt",
        "links": [
            "710e5c55.3f5f94",
            "16e9a2ee.4c736d"
        ],
        "x": 195,
        "y": 160,
        "wires": [
            [
                "3683adf4.f04bd2"
            ]
        ]
    },
    {
        "id": "3683adf4.f04bd2",
        "type": "change",
        "z": "1a72a84.1b49058",
        "name": "Bolt updates",
        "rules": [
            {
                "t": "set",
                "p": "mlt_on",
                "pt": "msg",
                "to": "mlt_on",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7439d993.b4d6b8",
        "type": "link in",
        "z": "1a72a84.1b49058",
        "name": "HLT bolt",
        "links": [
            "8121bf41.5e669",
            "33edeee.ccb8112"
        ],
        "x": 195,
        "y": 220,
        "wires": [
            [
                "68b0c854.ac8a18"
            ]
        ]
    },
    {
        "id": "68b0c854.ac8a18",
        "type": "change",
        "z": "1a72a84.1b49058",
        "name": "Bolt updates",
        "rules": [
            {
                "t": "set",
                "p": "hlt_on",
                "pt": "msg",
                "to": "hlt_on",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "f92df5cb.50a6a8",
        "type": "rpi-gpio out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump GPIO",
        "pin": "33",
        "set": true,
        "level": "0",
        "freq": "1",
        "out": "out",
        "x": 650,
        "y": 740,
        "wires": []
    },
    {
        "id": "1fafe71d.4574f9",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "pump - off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 440,
        "wires": [
            [
                "76b6f581.2600cc"
            ]
        ]
    },
    {
        "id": "71c8c12f.2378b",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "pump - on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "gold",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 400,
        "wires": [
            [
                "76b6f581.2600cc"
            ]
        ]
    },
    {
        "id": "35053cb7.8f5614",
        "type": "switch",
        "z": "6edcb3ec.ea373c",
        "name": "Pump state",
        "property": "hlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 420,
        "wires": [
            [
                "71c8c12f.2378b"
            ],
            [
                "1fafe71d.4574f9"
            ]
        ]
    },
    {
        "id": "83fdc98e.dc2f28",
        "type": "delay",
        "z": "6edcb3ec.ea373c",
        "d": true,
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 370,
        "y": 380,
        "wires": [
            [
                "35053cb7.8f5614"
            ]
        ]
    },
    {
        "id": "76b6f581.2600cc",
        "type": "link out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump button colour",
        "links": [
            "560a5db9.89d734"
        ],
        "x": 775,
        "y": 420,
        "wires": []
    },
    {
        "id": "e4f3b823.8d0968",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "d3f25fff.59de8"
        ],
        "x": 255,
        "y": 380,
        "wires": [
            [
                "83fdc98e.dc2f28",
                "35053cb7.8f5614"
            ]
        ]
    },
    {
        "id": "fead78d9.d24b48",
        "type": "inject",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 210,
        "y": 40,
        "wires": [
            [
                "a7a96d58.fc6bd",
                "7db66e9c.8eac7",
                "6ef9e8db.b44bd8"
            ]
        ]
    },
    {
        "id": "55601a9f.284ec4",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hlt_pump",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 740,
        "wires": [
            [
                "f92df5cb.50a6a8"
            ]
        ]
    },
    {
        "id": "df05f2e9.b284c",
        "type": "ui_button",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "group": "6f025f7e.49cd3",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "HLT Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 230,
        "y": 120,
        "wires": [
            [
                "c9c02900.6c2ac8"
            ]
        ]
    },
    {
        "id": "560a5db9.89d734",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump button colour",
        "links": [
            "76b6f581.2600cc"
        ],
        "x": 115,
        "y": 120,
        "wires": [
            [
                "df05f2e9.b284c"
            ]
        ]
    },
    {
        "id": "1fd0a52e.9ecd2b",
        "type": "ui_ui_control",
        "z": "6edcb3ec.ea373c",
        "name": "Dashboard connection",
        "x": 220,
        "y": 420,
        "wires": [
            [
                "35053cb7.8f5614"
            ]
        ]
    },
    {
        "id": "c9c02900.6c2ac8",
        "type": "switch",
        "z": "6edcb3ec.ea373c",
        "name": "Pump state",
        "property": "hlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 120,
        "wires": [
            [
                "d8093dcb.71238"
            ],
            [
                "f46d9c45.0689"
            ]
        ]
    },
    {
        "id": "f46d9c45.0689",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Turn off",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pump",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 140,
        "wires": [
            [
                "d3f25fff.59de8"
            ]
        ]
    },
    {
        "id": "d8093dcb.71238",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Turn on",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pump",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 100,
        "wires": [
            [
                "d3f25fff.59de8"
            ]
        ]
    },
    {
        "id": "d3f25fff.59de8",
        "type": "link out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "e4f3b823.8d0968",
            "e47f6f20.644f9"
        ],
        "x": 775,
        "y": 120,
        "wires": []
    },
    {
        "id": "a7a96d58.fc6bd",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hlt_pump",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "e47f6f20.644f9",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "d3f25fff.59de8"
        ],
        "x": 315,
        "y": 740,
        "wires": [
            [
                "55601a9f.284ec4"
            ]
        ]
    },
    {
        "id": "abe909d0.d26be8",
        "type": "ui_button",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "group": "af73f68d.436728",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "MLT Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 230,
        "y": 200,
        "wires": [
            [
                "f8d43390.99c2d"
            ]
        ]
    },
    {
        "id": "9b7469aa.28dd08",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump button colour",
        "links": [
            "e4491812.3727a8"
        ],
        "x": 115,
        "y": 200,
        "wires": [
            [
                "abe909d0.d26be8"
            ]
        ]
    },
    {
        "id": "f8d43390.99c2d",
        "type": "switch",
        "z": "6edcb3ec.ea373c",
        "name": "Pump state",
        "property": "mlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 200,
        "wires": [
            [
                "ad155525.c26ed8"
            ],
            [
                "c776bb49.e62a78"
            ]
        ]
    },
    {
        "id": "c776bb49.e62a78",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Turn off",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pump",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 220,
        "wires": [
            [
                "f47becb.3983b1"
            ]
        ]
    },
    {
        "id": "ad155525.c26ed8",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Turn on",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pump",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 180,
        "wires": [
            [
                "f47becb.3983b1"
            ]
        ]
    },
    {
        "id": "f47becb.3983b1",
        "type": "link out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "7f53b602.010808",
            "78c97d31.035094"
        ],
        "x": 775,
        "y": 200,
        "wires": []
    },
    {
        "id": "4929dbd7.ad9844",
        "type": "ui_button",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "group": "28cab5d7.f6e5fa",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "BK Pump",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 220,
        "y": 280,
        "wires": [
            [
                "8355da82.06d868"
            ]
        ]
    },
    {
        "id": "8ab9779a.23a9c8",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump button colour",
        "links": [
            "b7a26ac1.6eac28"
        ],
        "x": 115,
        "y": 280,
        "wires": [
            [
                "4929dbd7.ad9844"
            ]
        ]
    },
    {
        "id": "8355da82.06d868",
        "type": "switch",
        "z": "6edcb3ec.ea373c",
        "name": "Pump state",
        "property": "bk_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 280,
        "wires": [
            [
                "8ae0bbb3.a83d58"
            ],
            [
                "d02cc7b3.b0b028"
            ]
        ]
    },
    {
        "id": "d02cc7b3.b0b028",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Turn off",
        "rules": [
            {
                "t": "set",
                "p": "bk_pump",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 300,
        "wires": [
            [
                "7dc1f64e.9d8c18"
            ]
        ]
    },
    {
        "id": "8ae0bbb3.a83d58",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Turn on",
        "rules": [
            {
                "t": "set",
                "p": "bk_pump",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 260,
        "wires": [
            [
                "7dc1f64e.9d8c18"
            ]
        ]
    },
    {
        "id": "7dc1f64e.9d8c18",
        "type": "link out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "cf5f0d1d.87583",
            "4d6e6325.164f0c"
        ],
        "x": 775,
        "y": 280,
        "wires": []
    },
    {
        "id": "f30bfc08.6288f",
        "type": "rpi-gpio out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump GPIO",
        "pin": "31",
        "set": true,
        "level": "0",
        "freq": "1",
        "out": "out",
        "x": 650,
        "y": 800,
        "wires": []
    },
    {
        "id": "8c985805.1791d8",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "mlt_pump",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 800,
        "wires": [
            [
                "f30bfc08.6288f"
            ]
        ]
    },
    {
        "id": "7f53b602.010808",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "f47becb.3983b1"
        ],
        "x": 315,
        "y": 800,
        "wires": [
            [
                "8c985805.1791d8"
            ]
        ]
    },
    {
        "id": "5aea0f21.5f87f",
        "type": "rpi-gpio out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump GPIO",
        "pin": "29",
        "set": true,
        "level": "0",
        "freq": "1",
        "out": "out",
        "x": 650,
        "y": 860,
        "wires": []
    },
    {
        "id": "1b1e7966.fbe7b7",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bk_pump",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 860,
        "wires": [
            [
                "5aea0f21.5f87f"
            ]
        ]
    },
    {
        "id": "cf5f0d1d.87583",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "7dc1f64e.9d8c18"
        ],
        "x": 315,
        "y": 860,
        "wires": [
            [
                "1b1e7966.fbe7b7"
            ]
        ]
    },
    {
        "id": "6f72bd76.f7d374",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "pump - off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 540,
        "wires": [
            [
                "e4491812.3727a8"
            ]
        ]
    },
    {
        "id": "db5c16f7.089108",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "pump - on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "gold",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 500,
        "wires": [
            [
                "e4491812.3727a8"
            ]
        ]
    },
    {
        "id": "e9facebb.be836",
        "type": "switch",
        "z": "6edcb3ec.ea373c",
        "name": "Pump state",
        "property": "mlt_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "db5c16f7.089108"
            ],
            [
                "6f72bd76.f7d374"
            ]
        ]
    },
    {
        "id": "4be186d.2cf4778",
        "type": "delay",
        "z": "6edcb3ec.ea373c",
        "d": true,
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 370,
        "y": 480,
        "wires": [
            [
                "e9facebb.be836"
            ]
        ]
    },
    {
        "id": "e4491812.3727a8",
        "type": "link out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump button colour",
        "links": [
            "9b7469aa.28dd08"
        ],
        "x": 775,
        "y": 520,
        "wires": []
    },
    {
        "id": "78c97d31.035094",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "f47becb.3983b1"
        ],
        "x": 255,
        "y": 480,
        "wires": [
            [
                "4be186d.2cf4778",
                "e9facebb.be836"
            ]
        ]
    },
    {
        "id": "ccb62ea0.9f558",
        "type": "ui_ui_control",
        "z": "6edcb3ec.ea373c",
        "name": "Dashboard connection",
        "x": 220,
        "y": 520,
        "wires": [
            [
                "e9facebb.be836"
            ]
        ]
    },
    {
        "id": "6f67e3b6.c26c6c",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "pump - off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 620,
        "wires": [
            [
                "b7a26ac1.6eac28"
            ]
        ]
    },
    {
        "id": "b80f3638.054668",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "pump - on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "gold",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 580,
        "wires": [
            [
                "b7a26ac1.6eac28"
            ]
        ]
    },
    {
        "id": "bfcc9ed1.8874f",
        "type": "switch",
        "z": "6edcb3ec.ea373c",
        "name": "Pump state",
        "property": "bk_pump",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 600,
        "wires": [
            [
                "b80f3638.054668"
            ],
            [
                "6f67e3b6.c26c6c"
            ]
        ]
    },
    {
        "id": "68fdb8df.132a28",
        "type": "delay",
        "z": "6edcb3ec.ea373c",
        "d": true,
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 370,
        "y": 560,
        "wires": [
            [
                "bfcc9ed1.8874f"
            ]
        ]
    },
    {
        "id": "b7a26ac1.6eac28",
        "type": "link out",
        "z": "6edcb3ec.ea373c",
        "name": "Pump button colour",
        "links": [
            "8ab9779a.23a9c8"
        ],
        "x": 775,
        "y": 600,
        "wires": []
    },
    {
        "id": "4d6e6325.164f0c",
        "type": "link in",
        "z": "6edcb3ec.ea373c",
        "name": "Pump update",
        "links": [
            "7dc1f64e.9d8c18"
        ],
        "x": 255,
        "y": 560,
        "wires": [
            [
                "68fdb8df.132a28",
                "bfcc9ed1.8874f"
            ]
        ]
    },
    {
        "id": "7ede2508.a5c50c",
        "type": "ui_ui_control",
        "z": "6edcb3ec.ea373c",
        "name": "Dashboard connection",
        "x": 220,
        "y": 600,
        "wires": [
            [
                "bfcc9ed1.8874f"
            ]
        ]
    },
    {
        "id": "7db66e9c.8eac7",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pump",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "6ef9e8db.b44bd8",
        "type": "change",
        "z": "6edcb3ec.ea373c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_pump",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "c04adfa6.4a55d",
        "type": "ui_gauge",
        "z": "78092a27.0e2d74",
        "name": "HLT Actual Temp",
        "group": "6f025f7e.49cd3",
        "order": 2,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Actual Temp",
        "format": "{{value}}F",
        "min": "50",
        "max": "220",
        "colors": [
            "#ffd700",
            "#3dd214",
            "#ff0000"
        ],
        "seg1": "150",
        "seg2": "190",
        "x": 1350,
        "y": 160,
        "wires": []
    },
    {
        "id": "9372cc7b.efe6",
        "type": "ui_gauge",
        "z": "c522bae4.604dc8",
        "name": "HLT Target temp",
        "group": "6f025f7e.49cd3",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Target Temp",
        "format": "{{value}}f",
        "min": "50",
        "max": "220",
        "colors": [
            "#ffd700",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "150",
        "seg2": "200",
        "x": 500,
        "y": 360,
        "wires": []
    },
    {
        "id": "1601068b.5c78c9",
        "type": "ui_gauge",
        "z": "e54ae304.78e86",
        "name": "HLT Duty Gauge",
        "group": "6f025f7e.49cd3",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "usage",
        "format": "{{value}} kW",
        "min": 0,
        "max": "5.5",
        "colors": [
            "#ffd700",
            "#00ff08",
            "#ff0000"
        ],
        "seg1": "2",
        "seg2": "4",
        "x": 520,
        "y": 120,
        "wires": []
    },
    {
        "id": "3dbfeb72.5b0684",
        "type": "inject",
        "z": "1adf5c5c.8cf894",
        "name": "Default Element Duty",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "c58bd639.ffa168",
                "6924e366.ebaddc"
            ]
        ]
    },
    {
        "id": "1ffa1069.69d67",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_lock=true",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "63f2c49.ef4db3c",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_on = bk_try",
        "rules": [
            {
                "t": "set",
                "p": "bk_on",
                "pt": "global",
                "to": "bk_try",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bk_try",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1540,
        "wires": [
            [
                "ca4e8ba7.4d2838",
                "3b07d4df.1d0fac"
            ]
        ]
    },
    {
        "id": "ca4e8ba7.4d2838",
        "type": "switch",
        "z": "1adf5c5c.8cf894",
        "name": "bk_on",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 1540,
        "wires": [
            [
                "1ffa1069.69d67"
            ],
            [
                "9acca55.39ba058"
            ]
        ]
    },
    {
        "id": "beb4d4e5.cb7528",
        "type": "switch",
        "z": "1adf5c5c.8cf894",
        "name": "Check rims_lock",
        "property": "rims_lock",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 1500,
        "wires": [
            [
                "a3417d3a.d004d"
            ],
            [
                "dfe2ee0a.73723"
            ]
        ]
    },
    {
        "id": "80cc15e8.ec15d8",
        "type": "ui_toast",
        "z": "1adf5c5c.8cf894",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 550,
        "y": 1360,
        "wires": []
    },
    {
        "id": "a3417d3a.d004d",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "Element lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not access boil kettle element controls while RIMS element is active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1400,
        "wires": [
            [
                "80cc15e8.ec15d8"
            ]
        ]
    },
    {
        "id": "9acca55.39ba058",
        "type": "delay",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 980,
        "y": 1560,
        "wires": [
            [
                "7643edb9.e5db54"
            ]
        ]
    },
    {
        "id": "7643edb9.e5db54",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_lock = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1600,
        "wires": [
            [
                "226818bb.eb9958"
            ]
        ]
    },
    {
        "id": "226818bb.eb9958",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "d": true,
        "name": "BK Bolt update",
        "links": [
            "6fd79be1.eaaf94"
        ],
        "x": 1115,
        "y": 1500,
        "wires": []
    },
    {
        "id": "3b07d4df.1d0fac",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "d": true,
        "name": "BK Bolt update",
        "links": [
            "6fd79be1.eaaf94"
        ],
        "x": 895,
        "y": 1480,
        "wires": []
    },
    {
        "id": "af90628.2294ea",
        "type": "ui_numeric",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "label": "K𝗉",
        "tooltip": "",
        "group": "d2aa40aa.53d6",
        "order": 6,
        "width": "4",
        "height": "1",
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "99.8",
        "step": "0.2",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "736e604f.9dce4"
            ]
        ]
    },
    {
        "id": "5912a6d2.7fc6f8",
        "type": "ui_numeric",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "label": "K𝗂",
        "tooltip": "",
        "group": "d2aa40aa.53d6",
        "order": 7,
        "width": "4",
        "height": "1",
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 620,
        "wires": [
            [
                "ab5ece9.54cca3"
            ]
        ]
    },
    {
        "id": "df472bd.3202dd8",
        "type": "ui_numeric",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "label": "K𝖽",
        "tooltip": "",
        "group": "d2aa40aa.53d6",
        "order": 8,
        "width": "4",
        "height": "1",
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "181b80c4.68458f"
            ]
        ]
    },
    {
        "id": "736e604f.9dce4",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "p",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "ab5ece9.54cca3",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "set flow.i",
        "rules": [
            {
                "t": "set",
                "p": "i",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "181b80c4.68458f",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "1e17ba1a.55a706",
        "type": "inject",
        "z": "1adf5c5c.8cf894",
        "name": "Default P",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "48",
        "payloadType": "num",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "af90628.2294ea",
                "736e604f.9dce4"
            ]
        ]
    },
    {
        "id": "d36417aa.fcf8c8",
        "type": "inject",
        "z": "1adf5c5c.8cf894",
        "name": "Default I",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.02",
        "payloadType": "num",
        "x": 100,
        "y": 580,
        "wires": [
            [
                "5912a6d2.7fc6f8",
                "ab5ece9.54cca3"
            ]
        ]
    },
    {
        "id": "726f377e.c78948",
        "type": "inject",
        "z": "1adf5c5c.8cf894",
        "name": "Default D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "18",
        "payloadType": "num",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "df472bd.3202dd8",
                "181b80c4.68458f"
            ]
        ]
    },
    {
        "id": "51ca17e2.310538",
        "type": "inject",
        "z": "1adf5c5c.8cf894",
        "name": "Default BK Target",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "70",
        "payloadType": "num",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "6c033671.3e0f98",
                "a5ab1f7.ea47ce",
                "e461b1b1.b62cd",
                "87d95b76.dcfa78"
            ]
        ]
    },
    {
        "id": "2d417e1e.9b5d02",
        "type": "function",
        "z": "1adf5c5c.8cf894",
        "name": "BK PID",
        "func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\nnode.warn('Temp: ' + msg.payload);\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('bk_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n\n// Calculate proportional action\nvar pTerm = msg.error * flow.get('p');\n\n// Calculate intergral action\nvar iTerm = 0;\nif (pTerm < msg.max_output) {\n    // Calculate integrator max\n    msg.integrator_max = msg.max_output/flow.get('i');\n    \n    // Update integrator\n    // For purposes of integrator, bound error by [-1, 1]\n    msg.integrator = flow.get('integrator');\n    msg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n    \n    // Bound total integrator by absolute maximum\n    msg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n    \n    // Output updated integrator to flow context\n    flow.set('integrator', msg.integrator);\n    \n    iTerm = msg.integrator * flow.get('i');\n}\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nvar dTerm = msg.derivative * flow.get('d');\n\nmsg.output = pTerm + iTerm + dTerm;\nnode.warn(pTerm + ' ' + iTerm + ' ' + dTerm);\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 100,
        "wires": [
            [
                "915a5141.29ebe",
                "21d00410.0d098c"
            ]
        ]
    },
    {
        "id": "665d7c36.45f984",
        "type": "switch",
        "z": "1adf5c5c.8cf894",
        "name": "bk_pid switch",
        "property": "bk_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 280,
        "y": 120,
        "wires": [
            [
                "2d417e1e.9b5d02",
                "4b118a78.8cef94"
            ],
            [
                "ca7dc302.f94bb"
            ]
        ]
    },
    {
        "id": "ca7dc302.f94bb",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "payload = bk_manual_duty",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bk_manual_duty",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "915a5141.29ebe"
            ]
        ]
    },
    {
        "id": "3b5d5b2f.c00714",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "BK PID temperature input",
        "links": [
            "66d67334.39b4bc"
        ],
        "x": 175,
        "y": 40,
        "wires": [
            [
                "56d156d5.9a1ed8",
                "3eaa9848.9988f8"
            ]
        ]
    },
    {
        "id": "a5ab1f7.ea47ce",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_target",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "915a5141.29ebe",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "PID or Manual Duty",
        "links": [
            "af14a513.905e38",
            "a5f52b91.d1a608",
            "a3555dfa.ec025"
        ],
        "x": 695,
        "y": 100,
        "wires": []
    },
    {
        "id": "610bd1f4.b5edf",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_pid, bk_try = true",
        "rules": [
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1040,
        "wires": [
            [
                "15d487be.5e1758"
            ]
        ]
    },
    {
        "id": "d0b93c42.00d04",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_pid = false, bk_try = true",
        "rules": [
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 1080,
        "wires": [
            [
                "b076817d.5c16d"
            ]
        ]
    },
    {
        "id": "de49fce0.1849",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_pid, bk_try = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1000,
        "wires": [
            [
                "c7769670.7784c8"
            ]
        ]
    },
    {
        "id": "b076817d.5c16d",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "BK Try Output",
        "links": [
            "8cdfb1c6.3516f"
        ],
        "x": 515,
        "y": 1080,
        "wires": []
    },
    {
        "id": "8cdfb1c6.3516f",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "BK Try Input",
        "links": [
            "c7769670.7784c8",
            "b076817d.5c16d",
            "15d487be.5e1758"
        ],
        "x": 135,
        "y": 1420,
        "wires": [
            [
                "63f2c49.ef4db3c"
            ]
        ]
    },
    {
        "id": "56d156d5.9a1ed8",
        "type": "switch",
        "z": "1adf5c5c.8cf894",
        "name": "bk_on",
        "property": "bk_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 130,
        "y": 120,
        "wires": [
            [
                "665d7c36.45f984"
            ]
        ]
    },
    {
        "id": "6924e366.ebaddc",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_manual_duty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d88e73cf.1f24c",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "payload = 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 1240,
        "wires": [
            [
                "a8816432.aed788"
            ]
        ]
    },
    {
        "id": "a8816432.aed788",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "Off Duty",
        "links": [
            "a5f52b91.d1a608",
            "af14a513.905e38",
            "a3555dfa.ec025"
        ],
        "x": 515,
        "y": 1240,
        "wires": []
    },
    {
        "id": "bf482f8.eb65bd",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "BK PID display",
        "links": [
            "9e654cdf.28d56"
        ],
        "x": 515,
        "y": 1160,
        "wires": []
    },
    {
        "id": "2db3f91e.5ee8c6",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "Zero everything",
        "rules": [
            {
                "t": "set",
                "p": "last_error",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "derivative",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "last_error",
                "pt": "flow",
                "to": "last_error",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "flow",
                "to": "integrator",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "output",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "target",
                "pt": "msg",
                "to": "bk_target",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 1160,
        "wires": [
            [
                "bf482f8.eb65bd"
            ]
        ]
    },
    {
        "id": "21d00410.0d098c",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "BK PID display",
        "links": [
            "9e654cdf.28d56",
            "c158941e.0d0d48"
        ],
        "x": 575,
        "y": 60,
        "wires": []
    },
    {
        "id": "eabd13cd.d314b",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "PID button",
        "links": [
            "fc903ae8.1c4aa8"
        ],
        "x": 135,
        "y": 1040,
        "wires": [
            [
                "610bd1f4.b5edf"
            ]
        ]
    },
    {
        "id": "15d487be.5e1758",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "BK Try Output",
        "links": [
            "8cdfb1c6.3516f"
        ],
        "x": 515,
        "y": 1040,
        "wires": []
    },
    {
        "id": "c7769670.7784c8",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "BK Try Output",
        "links": [
            "8cdfb1c6.3516f"
        ],
        "x": 515,
        "y": 1000,
        "wires": []
    },
    {
        "id": "b555843a.8336c8",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "Manual button",
        "links": [
            "55db049a.a2615c"
        ],
        "x": 135,
        "y": 1080,
        "wires": [
            [
                "d0b93c42.00d04"
            ]
        ]
    },
    {
        "id": "417d0d2f.e96cb4",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "Manual button",
        "links": [
            "55db049a.a2615c"
        ],
        "x": 135,
        "y": 1120,
        "wires": [
            [
                "2db3f91e.5ee8c6"
            ]
        ]
    },
    {
        "id": "eeaae435.158358",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "Off button",
        "links": [
            "494495c.b9b2e6c"
        ],
        "x": 135,
        "y": 1000,
        "wires": [
            [
                "de49fce0.1849"
            ]
        ]
    },
    {
        "id": "23bbb319.b45fec",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "Off button",
        "links": [
            "7628c155.b81c9",
            "494495c.b9b2e6c"
        ],
        "x": 135,
        "y": 1240,
        "wires": [
            [
                "d88e73cf.1f24c"
            ]
        ]
    },
    {
        "id": "e451b652.9cbe38",
        "type": "inject",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 780,
        "wires": [
            [
                "7628c155.b81c9"
            ]
        ]
    },
    {
        "id": "38ee3bfe.cfccb4",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "Off button",
        "links": [
            "7628c155.b81c9",
            "494495c.b9b2e6c"
        ],
        "x": 135,
        "y": 1160,
        "wires": [
            [
                "2db3f91e.5ee8c6"
            ]
        ]
    },
    {
        "id": "7628c155.b81c9",
        "type": "link out",
        "z": "1adf5c5c.8cf894",
        "name": "Off button - initialization",
        "links": [
            "23bbb319.b45fec",
            "e13c0f60.1469",
            "38ee3bfe.cfccb4"
        ],
        "x": 275,
        "y": 780,
        "wires": []
    },
    {
        "id": "e13c0f60.1469",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "Off button - initialization",
        "links": [
            "7628c155.b81c9"
        ],
        "x": 135,
        "y": 960,
        "wires": [
            [
                "b56a1a45.47d5d8"
            ]
        ]
    },
    {
        "id": "b56a1a45.47d5d8",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "bk_lock, bk_on, bk_pid, bk_try = false",
        "rules": [
            {
                "t": "set",
                "p": "bk_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_on",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "6c033671.3e0f98",
        "type": "ui_slider",
        "z": "1adf5c5c.8cf894",
        "name": "Kettle target slider",
        "label": "Target",
        "tooltip": "",
        "group": "28cab5d7.f6e5fa",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "220",
        "step": "1",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "a5ab1f7.ea47ce",
                "e461b1b1.b62cd",
                "87d95b76.dcfa78"
            ]
        ]
    },
    {
        "id": "c58bd639.ffa168",
        "type": "ui_slider",
        "z": "1adf5c5c.8cf894",
        "name": "Manual duty slider",
        "label": "Manual",
        "tooltip": "",
        "group": "28cab5d7.f6e5fa",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "6924e366.ebaddc"
            ]
        ]
    },
    {
        "id": "f9273ea1.65ecf",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bk_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "e461b1b1.b62cd",
        "type": "ui_text",
        "z": "1adf5c5c.8cf894",
        "group": "d2aa40aa.53d6",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "Kettle target",
        "label": "Target",
        "format": "{{payload | number:1}}°F",
        "layout": "col-center",
        "x": 430,
        "y": 420,
        "wires": []
    },
    {
        "id": "3eaa9848.9988f8",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp-BK",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "dfe2ee0a.73723",
        "type": "switch",
        "z": "1adf5c5c.8cf894",
        "name": "check minimum volume",
        "property": "current_volume",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 1560,
        "wires": [
            [
                "d6d1fd9.3cc4e"
            ],
            []
        ]
    },
    {
        "id": "d6d1fd9.3cc4e",
        "type": "change",
        "z": "1adf5c5c.8cf894",
        "name": "Lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not turn element on as walter level is below 8L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1440,
        "wires": [
            [
                "7d90ad5e.c0dae4"
            ]
        ]
    },
    {
        "id": "7d90ad5e.c0dae4",
        "type": "ui_toast",
        "z": "1adf5c5c.8cf894",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 730,
        "y": 1480,
        "wires": []
    },
    {
        "id": "4b118a78.8cef94",
        "type": "debug",
        "z": "1adf5c5c.8cf894",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 220,
        "wires": []
    },
    {
        "id": "77faa683.7f3b48",
        "type": "link in",
        "z": "1adf5c5c.8cf894",
        "name": "BK kettle target temp",
        "links": [],
        "x": 35,
        "y": 360,
        "wires": [
            [
                "6c033671.3e0f98"
            ]
        ]
    },
    {
        "id": "87d95b76.dcfa78",
        "type": "ui_gauge",
        "z": "1adf5c5c.8cf894",
        "name": "BK Target temp",
        "group": "28cab5d7.f6e5fa",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Target Temp",
        "format": "{{value}}f",
        "min": "50",
        "max": "220",
        "colors": [
            "#ffd700",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "150",
        "seg2": "190",
        "x": 500,
        "y": 360,
        "wires": []
    },
    {
        "id": "b8cfac92.1f82f",
        "type": "ui_gauge",
        "z": "78092a27.0e2d74",
        "name": "BK Actual Temp",
        "group": "28cab5d7.f6e5fa",
        "order": 2,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Actual Temp",
        "format": "{{value}}F",
        "min": "50",
        "max": "220",
        "colors": [
            "#ffd700",
            "#3dd214",
            "#ff0000"
        ],
        "seg1": "150",
        "seg2": "190",
        "x": 1320,
        "y": 560,
        "wires": []
    },
    {
        "id": "d7360dd0.6a951",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Stop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"stop\" }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "86bb39d2.fea378",
        "type": "function",
        "z": "e55fabca.3e1018",
        "name": "Seconds to Minutes",
        "func": "var minuten = msg.payload /60;\nmsg.payload=minuten;\n\n//msg.ui_control = {\"min\":0,\"max\":10, \"seg1\":0, \"seg2\":1}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 670,
        "y": 240,
        "wires": [
            [
                "6682086e.b7a708"
            ]
        ]
    },
    {
        "id": "6682086e.b7a708",
        "type": "ui_gauge",
        "z": "e55fabca.3e1018",
        "name": "Countdown Timer",
        "group": "61adaa9e.bf1b34",
        "order": 2,
        "width": 6,
        "height": 3,
        "gtype": "donut",
        "title": "",
        "label": "Minutes",
        "format": "{{value | number:0}}",
        "min": 0,
        "max": "1",
        "colors": [
            "#ff2600",
            "#e6e600",
            "#00f900"
        ],
        "seg1": "",
        "seg2": "",
        "x": 670,
        "y": 300,
        "wires": []
    },
    {
        "id": "61801504.11295c",
        "type": "function",
        "z": "e55fabca.3e1018",
        "name": "Seconds to minutes",
        "func": "var sekunden = msg.payload * 60;\n\n// msg.ui_control = {\"min\":0,\"max\":10, \"seg1\":0, \"seg2\":1}\n\n\nmsg.payload=\"{\\\"payload\\\": \\\"on\\\", \\\"timeout\\\":\" + sekunden + \", \\\"warning\\\": 30}\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "b5c2e165.cc3c4",
        "type": "debug",
        "z": "e55fabca.3e1018",
        "name": "Production",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 100,
        "wires": []
    },
    {
        "id": "3b5273de.e688ec",
        "type": "ui_slider",
        "z": "e55fabca.3e1018",
        "name": "",
        "label": "Start",
        "tooltip": "",
        "group": "61adaa9e.bf1b34",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "1",
        "max": "10",
        "step": 1,
        "x": 110,
        "y": 100,
        "wires": [
            [
                "61801504.11295c"
            ]
        ]
    },
    {
        "id": "fc82b6e4.284378",
        "type": "ui_toast",
        "z": "e55fabca.3e1018",
        "position": "top right",
        "displayTime": "10",
        "highlight": "#e83a2c",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 670,
        "y": 160,
        "wires": []
    },
    {
        "id": "271a85c2.6d2bca",
        "type": "comment",
        "z": "e55fabca.3e1018",
        "name": "(c) 2020 Thomas Wenzlaff   www.wenzlaff.info",
        "info": "",
        "x": 570,
        "y": 40,
        "wires": []
    },
    {
        "id": "e66bb67c.016578",
        "type": "comment",
        "z": "e55fabca.3e1018",
        "name": "Countdown Timer",
        "info": "",
        "x": 170,
        "y": 40,
        "wires": []
    },
    {
        "id": "88dda093.d109b",
        "type": "mytimeout",
        "z": "e55fabca.3e1018",
        "name": "1-10 Minutes timer",
        "outtopic": "",
        "outsafe": "",
        "outwarning": "30 seconds left",
        "outunsafe": "Reset timer for next countdown",
        "warning": "",
        "timer": "",
        "debug": false,
        "ndebug": true,
        "ignoreCase": false,
        "repeat": false,
        "again": false,
        "x": 390,
        "y": 260,
        "wires": [
            [
                "fc82b6e4.284378",
                "1e859b3b.bf5eb5"
            ],
            [
                "86bb39d2.fea378"
            ]
        ]
    },
    {
        "id": "5ae6ad7.2ae8154",
        "type": "ui_button",
        "z": "6286aafa.8fb494",
        "name": "",
        "group": "af73f68d.436728",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 260,
        "y": 80,
        "wires": [
            [
                "72de55d3.d572dc"
            ]
        ]
    },
    {
        "id": "91b8463a.05dd38",
        "type": "ui_button",
        "z": "6286aafa.8fb494",
        "name": "",
        "group": "af73f68d.436728",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "PID",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 250,
        "y": 40,
        "wires": [
            [
                "d2397e6a.fe122"
            ]
        ]
    },
    {
        "id": "49415fbb.65319",
        "type": "ui_button",
        "z": "6286aafa.8fb494",
        "name": "",
        "group": "af73f68d.436728",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Off",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{colour}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "",
        "x": 250,
        "y": 120,
        "wires": [
            [
                "63568988.008e18"
            ]
        ]
    },
    {
        "id": "b0d156d0.9f7518",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "PID button colour",
        "links": [
            "66c2537c.26d1ac",
            "cd8fd53.01d4928"
        ],
        "x": 135,
        "y": 40,
        "wires": [
            [
                "91b8463a.05dd38"
            ]
        ]
    },
    {
        "id": "ae1266af.5613d8",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Manual button colour",
        "links": [
            "4b53b27c.4c809c"
        ],
        "x": 135,
        "y": 80,
        "wires": [
            [
                "5ae6ad7.2ae8154"
            ]
        ]
    },
    {
        "id": "49434eaf.b79fe",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Off button colour",
        "links": [
            "e79388.be74cc78"
        ],
        "x": 135,
        "y": 120,
        "wires": [
            [
                "49415fbb.65319"
            ]
        ]
    },
    {
        "id": "d2397e6a.fe122",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "PID button",
        "links": [
            "66e3226c.14874c",
            "43fbda0c.869ae4",
            "8cf036a5.33ff78",
            "67dfad5e.5594d4"
        ],
        "x": 375,
        "y": 40,
        "wires": []
    },
    {
        "id": "72de55d3.d572dc",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "Manual button",
        "links": [
            "66e3226c.14874c",
            "9805f535.227788",
            "43fbda0c.869ae4",
            "8cf036a5.33ff78",
            "8a05365.7a9d6c8"
        ],
        "x": 375,
        "y": 80,
        "wires": []
    },
    {
        "id": "63568988.008e18",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "Off button",
        "links": [
            "66e3226c.14874c",
            "5b9f3997.1a1028",
            "43fbda0c.869ae4",
            "8cf036a5.33ff78",
            "72cffd63.37d034",
            "23a894b5.40b21c"
        ],
        "x": 375,
        "y": 120,
        "wires": []
    },
    {
        "id": "b8527d53.fd013",
        "type": "delay",
        "z": "6286aafa.8fb494",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 250,
        "y": 280,
        "wires": [
            [
                "5bb19751.5b4768"
            ]
        ]
    },
    {
        "id": "66c2537c.26d1ac",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "PID button colour",
        "links": [
            "b0d156d0.9f7518"
        ],
        "x": 695,
        "y": 300,
        "wires": []
    },
    {
        "id": "8cf036a5.33ff78",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Button click",
        "links": [
            "72de55d3.d572dc",
            "63568988.008e18",
            "d2397e6a.fe122"
        ],
        "x": 135,
        "y": 280,
        "wires": [
            [
                "b8527d53.fd013"
            ]
        ]
    },
    {
        "id": "b2d792b2.182d1",
        "type": "change",
        "z": "6286aafa.8fb494",
        "name": "mlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 420,
        "wires": [
            [
                "4b53b27c.4c809c"
            ]
        ]
    },
    {
        "id": "894b66e.5d85c98",
        "type": "change",
        "z": "6286aafa.8fb494",
        "name": "mlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 380,
        "wires": [
            [
                "4b53b27c.4c809c"
            ]
        ]
    },
    {
        "id": "4c4d1fec.d07f",
        "type": "switch",
        "z": "6286aafa.8fb494",
        "name": "",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 420,
        "wires": [
            [
                "f30d019f.e080e"
            ],
            [
                "b2d792b2.182d1"
            ]
        ]
    },
    {
        "id": "3ad57cfc.df1884",
        "type": "delay",
        "z": "6286aafa.8fb494",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 250,
        "y": 380,
        "wires": [
            [
                "4c4d1fec.d07f"
            ]
        ]
    },
    {
        "id": "4b53b27c.4c809c",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "Manual button colour",
        "links": [
            "ae1266af.5613d8"
        ],
        "x": 675,
        "y": 400,
        "wires": []
    },
    {
        "id": "2ccfc8bb.65ae08",
        "type": "change",
        "z": "6286aafa.8fb494",
        "name": "mlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 540,
        "wires": [
            [
                "e79388.be74cc78"
            ]
        ]
    },
    {
        "id": "8ebb25d2.c01e78",
        "type": "change",
        "z": "6286aafa.8fb494",
        "name": "mlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 500,
        "wires": [
            [
                "e79388.be74cc78"
            ]
        ]
    },
    {
        "id": "ff3b16ba.a01a78",
        "type": "switch",
        "z": "6286aafa.8fb494",
        "name": "",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 520,
        "wires": [
            [
                "8ebb25d2.c01e78"
            ],
            [
                "2ccfc8bb.65ae08"
            ]
        ]
    },
    {
        "id": "3c034a9b.ca7ec6",
        "type": "delay",
        "z": "6286aafa.8fb494",
        "name": "delay",
        "pauseType": "delay",
        "timeout": "0.2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 250,
        "y": 480,
        "wires": [
            [
                "ff3b16ba.a01a78"
            ]
        ]
    },
    {
        "id": "e79388.be74cc78",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "Off button colour",
        "links": [
            "49434eaf.b79fe",
            "3e0efd1.4d98882",
            "c98ea849.baf91"
        ],
        "x": 535,
        "y": 520,
        "wires": []
    },
    {
        "id": "f30d019f.e080e",
        "type": "switch",
        "z": "6286aafa.8fb494",
        "name": "",
        "property": "mlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 400,
        "wires": [
            [
                "894b66e.5d85c98"
            ],
            [
                "b2d792b2.182d1"
            ]
        ]
    },
    {
        "id": "5bb19751.5b4768",
        "type": "switch",
        "z": "6286aafa.8fb494",
        "name": "",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 320,
        "wires": [
            [
                "5b67abe8.5b6b14"
            ],
            [
                "20fd9011.51054"
            ]
        ]
    },
    {
        "id": "5b67abe8.5b6b14",
        "type": "switch",
        "z": "6286aafa.8fb494",
        "name": "",
        "property": "mlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 300,
        "wires": [
            [
                "73a32ee7.76812"
            ],
            [
                "20fd9011.51054"
            ]
        ]
    },
    {
        "id": "73a32ee7.76812",
        "type": "change",
        "z": "6286aafa.8fb494",
        "name": "mlt on colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "#424242",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 280,
        "wires": [
            [
                "66c2537c.26d1ac"
            ]
        ]
    },
    {
        "id": "20fd9011.51054",
        "type": "change",
        "z": "6286aafa.8fb494",
        "name": "mlt off colour",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 320,
        "wires": [
            [
                "66c2537c.26d1ac"
            ]
        ]
    },
    {
        "id": "66e3226c.14874c",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Button click",
        "links": [
            "72de55d3.d572dc",
            "63568988.008e18",
            "d2397e6a.fe122",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 135,
        "y": 380,
        "wires": [
            [
                "3ad57cfc.df1884"
            ]
        ]
    },
    {
        "id": "43fbda0c.869ae4",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Button click",
        "links": [
            "72de55d3.d572dc",
            "63568988.008e18",
            "d2397e6a.fe122",
            "11c18a22.2ff07e",
            "fd8c477a.99a1a"
        ],
        "x": 135,
        "y": 480,
        "wires": [
            [
                "3c034a9b.ca7ec6"
            ]
        ]
    },
    {
        "id": "52a5d0f0.27ce5",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Button initialization",
        "links": [
            "cb5aa420.018628"
        ],
        "x": 135,
        "y": 320,
        "wires": [
            [
                "5bb19751.5b4768"
            ]
        ]
    },
    {
        "id": "698b1ef2.40ae3",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "cb5aa420.018628"
        ],
        "x": 135,
        "y": 420,
        "wires": [
            [
                "4c4d1fec.d07f"
            ]
        ]
    },
    {
        "id": "3848f207.93fa2e",
        "type": "link in",
        "z": "6286aafa.8fb494",
        "name": "Button initialization",
        "links": [
            "a902d194.51df48",
            "cb5aa420.018628"
        ],
        "x": 135,
        "y": 520,
        "wires": [
            [
                "ff3b16ba.a01a78"
            ]
        ]
    },
    {
        "id": "f2ffa146.85cb1",
        "type": "ui_ui_control",
        "z": "6286aafa.8fb494",
        "name": "Dashboard connection",
        "x": 220,
        "y": 200,
        "wires": [
            [
                "cb5aa420.018628"
            ]
        ]
    },
    {
        "id": "cb5aa420.018628",
        "type": "link out",
        "z": "6286aafa.8fb494",
        "name": "Button initialization on connection",
        "links": [
            "52a5d0f0.27ce5",
            "3848f207.93fa2e",
            "698b1ef2.40ae3"
        ],
        "x": 375,
        "y": 200,
        "wires": []
    },
    {
        "id": "29255d95.084062",
        "type": "inject",
        "z": "fa2ac6bb.22e008",
        "name": "Default Element Duty",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 200,
        "y": 200,
        "wires": [
            [
                "71b1fec1.ddb9c",
                "2801671c.1470a8"
            ]
        ]
    },
    {
        "id": "efa5ce1b.c4e77",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_lock=true",
        "rules": [
            {
                "t": "set",
                "p": "mlt_lock",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "fd704077.e3f0c",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_on = mlt_try",
        "rules": [
            {
                "t": "set",
                "p": "mlt_on",
                "pt": "global",
                "to": "mlt_try",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "mlt_try",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1540,
        "wires": [
            [
                "a31a7763.fcc638",
                "16e9a2ee.4c736d"
            ]
        ]
    },
    {
        "id": "a31a7763.fcc638",
        "type": "switch",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_on",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 1540,
        "wires": [
            [
                "efa5ce1b.c4e77"
            ],
            [
                "4a002700.d53798"
            ]
        ]
    },
    {
        "id": "76dad451.eabddc",
        "type": "switch",
        "z": "fa2ac6bb.22e008",
        "name": "Check rims_lock",
        "property": "rims_lock",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 1500,
        "wires": [
            [
                "598a457a.51740c"
            ],
            [
                "c55e71cf.8e61b"
            ]
        ]
    },
    {
        "id": "93859c8c.f724e",
        "type": "ui_toast",
        "z": "fa2ac6bb.22e008",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 610,
        "y": 1360,
        "wires": []
    },
    {
        "id": "598a457a.51740c",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "Element lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not access boil kettle element controls while RIMS element is active",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1400,
        "wires": [
            [
                "93859c8c.f724e"
            ]
        ]
    },
    {
        "id": "4a002700.d53798",
        "type": "delay",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1040,
        "y": 1560,
        "wires": [
            [
                "11566006.a6c0f"
            ]
        ]
    },
    {
        "id": "11566006.a6c0f",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_lock = false",
        "rules": [
            {
                "t": "set",
                "p": "mlt_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1600,
        "wires": [
            [
                "710e5c55.3f5f94"
            ]
        ]
    },
    {
        "id": "710e5c55.3f5f94",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "d": true,
        "name": "MLT Bolt update",
        "links": [
            "8b2ea2f1.0d2d1"
        ],
        "x": 1175,
        "y": 1500,
        "wires": []
    },
    {
        "id": "16e9a2ee.4c736d",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "d": true,
        "name": "MLT Bolt update",
        "links": [
            "8b2ea2f1.0d2d1"
        ],
        "x": 955,
        "y": 1480,
        "wires": []
    },
    {
        "id": "26257284.5f5a1e",
        "type": "ui_numeric",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "label": "K𝗉",
        "tooltip": "",
        "group": "d4dfa142.5bce",
        "order": 5,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "99.8",
        "step": "0.2",
        "x": 190,
        "y": 520,
        "wires": [
            [
                "f141b512.5f8428"
            ]
        ]
    },
    {
        "id": "990cf753.e771a8",
        "type": "ui_numeric",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "label": "K𝗂",
        "tooltip": "",
        "group": "d4dfa142.5bce",
        "order": 7,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 190,
        "y": 620,
        "wires": [
            [
                "8fbd533f.a4282"
            ]
        ]
    },
    {
        "id": "e1651cbc.b8289",
        "type": "ui_numeric",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "label": "K𝖽",
        "tooltip": "",
        "group": "d4dfa142.5bce",
        "order": 9,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value | number:1}}",
        "min": 0,
        "max": "100",
        "step": "0.2",
        "x": 190,
        "y": 720,
        "wires": [
            [
                "ce66ff61.65e52"
            ]
        ]
    },
    {
        "id": "f141b512.5f8428",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "p",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "8fbd533f.a4282",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "set flow.i",
        "rules": [
            {
                "t": "set",
                "p": "i",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "ce66ff61.65e52",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "abf967d4.99dd38",
        "type": "inject",
        "z": "fa2ac6bb.22e008",
        "name": "Default P",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "43",
        "payloadType": "num",
        "x": 160,
        "y": 480,
        "wires": [
            [
                "26257284.5f5a1e",
                "f141b512.5f8428"
            ]
        ]
    },
    {
        "id": "994f5ffa.089bf",
        "type": "inject",
        "z": "fa2ac6bb.22e008",
        "name": "Default I",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0.15",
        "payloadType": "num",
        "x": 160,
        "y": 580,
        "wires": [
            [
                "990cf753.e771a8",
                "8fbd533f.a4282"
            ]
        ]
    },
    {
        "id": "f64807c.95ddcf8",
        "type": "inject",
        "z": "fa2ac6bb.22e008",
        "name": "Default D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "25",
        "payloadType": "num",
        "x": 160,
        "y": 680,
        "wires": [
            [
                "e1651cbc.b8289",
                "ce66ff61.65e52"
            ]
        ]
    },
    {
        "id": "181ef51d.52a41b",
        "type": "inject",
        "z": "fa2ac6bb.22e008",
        "name": "Default MLT Target",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "65",
        "payloadType": "num",
        "x": 190,
        "y": 380,
        "wires": [
            [
                "86c1acb8.c73b5",
                "8ccd4cf3.a9c23",
                "6e6b53e.3574cac",
                "cbf40086.e70d9",
                "786f3a9c.30ea04"
            ]
        ]
    },
    {
        "id": "e79297e1.ea3fd8",
        "type": "function",
        "z": "fa2ac6bb.22e008",
        "name": "MLT PID",
        "func": "// Note that the algorithm provided below assumes a 1 second iteration time\n// Justin Angevaare\n// May 2018\n\n// Set temperature\nmsg.temperature =  msg.payload;\nnode.warn('Temp: ' + msg.payload);\n// Well that node doesn't work... do manually\nmsg.interval = 2000\n\n// Calculate error\nmsg.error = flow.get('mlt_target') - msg.temperature;\n\n// Set output max\nmsg.max_output = 100\n\n// Calculate proportional action\nvar pTerm = msg.error * flow.get('p');\n\n// Calculate intergral action\nvar iTerm = 0;\nif (pTerm < msg.max_output) {\n    // Calculate integrator max\n    msg.integrator_max = msg.max_output/flow.get('i');\n    \n    // Update integrator\n    // For purposes of integrator, bound error by [-1, 1]\n    msg.integrator = flow.get('integrator');\n    msg.integrator += (msg.interval/1000) * Math.max(Math.min(msg.error, 1), -1);\n    \n    // Bound total integrator by absolute maximum\n    msg.integrator = Math.max(Math.min(msg.integrator, msg.integrator_max), -msg.integrator_max);\n    \n    // Output updated integrator to flow context\n    flow.set('integrator', msg.integrator);\n    \n    iTerm = msg.integrator * flow.get('i');\n}\n\n// Calculate derivative action\nmsg.derivative = (msg.error - flow.get('last_error'))/(msg.interval/1000);\nvar dTerm = msg.derivative * flow.get('d');\n\nmsg.output = pTerm + iTerm + dTerm;\nnode.warn(pTerm + ' ' + iTerm + ' ' + dTerm);\n// Bound output by [0, max_output]\nmsg.output = Math.max(Math.min(msg.output, msg.max_output), 0);\n\n// Output updated last_error to flow context\nmsg.last_error = msg.error;\nflow.set('last_error', msg.last_error);\n\n// Set payload to element output\nmsg.payload = msg.output;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 100,
        "wires": [
            [
                "79e32bb4.2f1634",
                "706215be.6d968c"
            ]
        ]
    },
    {
        "id": "1032c7e0.6d82e8",
        "type": "switch",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_pid switch",
        "property": "mlt_pid",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 120,
        "wires": [
            [
                "e79297e1.ea3fd8",
                "75b3797f.c4f148"
            ],
            [
                "d9ac3a5c.3e7728"
            ]
        ]
    },
    {
        "id": "d9ac3a5c.3e7728",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "payload = mlt_manual_duty",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "mlt_manual_duty",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 140,
        "wires": [
            [
                "79e32bb4.2f1634"
            ]
        ]
    },
    {
        "id": "2cfa4bcb.9cab14",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "MLT PID temperature input",
        "links": [
            "6068493e.682338"
        ],
        "x": 235,
        "y": 40,
        "wires": [
            [
                "35d328ad.962158",
                "24113597.59a8ca"
            ]
        ]
    },
    {
        "id": "8ccd4cf3.a9c23",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_target",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "79e32bb4.2f1634",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "PID or Manual Duty",
        "links": [
            "a5f52b91.d1a608",
            "ecd2fdff.8baca"
        ],
        "x": 755,
        "y": 100,
        "wires": []
    },
    {
        "id": "2c6231b3.6bf6be",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_pid, mlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 1040,
        "wires": [
            [
                "b019094f.995bc8"
            ]
        ]
    },
    {
        "id": "1926149a.35228b",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_pid = false, mlt_try = true",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1080,
        "wires": [
            [
                "f3fac76b.0ed148"
            ]
        ]
    },
    {
        "id": "5f5d96d4.d3f518",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_pid, mlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 1000,
        "wires": [
            [
                "af899bb.71b4268"
            ]
        ]
    },
    {
        "id": "f3fac76b.0ed148",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "MLT Try Output",
        "links": [
            "904c247a.45fb28"
        ],
        "x": 575,
        "y": 1080,
        "wires": []
    },
    {
        "id": "904c247a.45fb28",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "MLT Try Input",
        "links": [
            "b019094f.995bc8",
            "af899bb.71b4268",
            "f3fac76b.0ed148"
        ],
        "x": 195,
        "y": 1420,
        "wires": [
            [
                "fd704077.e3f0c"
            ]
        ]
    },
    {
        "id": "35d328ad.962158",
        "type": "switch",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_on",
        "property": "mlt_on",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 120,
        "wires": [
            [
                "1032c7e0.6d82e8"
            ]
        ]
    },
    {
        "id": "2801671c.1470a8",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_manual_duty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "fa2b3bcf.f8c9f8",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "payload = 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1240,
        "wires": [
            [
                "b1436ec7.2173"
            ]
        ]
    },
    {
        "id": "b1436ec7.2173",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "Off Duty",
        "links": [
            "a5f52b91.d1a608",
            "ecd2fdff.8baca"
        ],
        "x": 575,
        "y": 1240,
        "wires": []
    },
    {
        "id": "17efd8b9.f76077",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "MLT PID display",
        "links": [
            "9e654cdf.28d56",
            "c4097d68.3df44"
        ],
        "x": 575,
        "y": 1160,
        "wires": []
    },
    {
        "id": "b963663f.e5a2b8",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "Zero everything",
        "rules": [
            {
                "t": "set",
                "p": "last_error",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "derivative",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "last_error",
                "pt": "flow",
                "to": "last_error",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "integrator",
                "pt": "flow",
                "to": "integrator",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "output",
                "pt": "msg",
                "to": "0.0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "target",
                "pt": "msg",
                "to": "mlt_target",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 1160,
        "wires": [
            [
                "17efd8b9.f76077"
            ]
        ]
    },
    {
        "id": "706215be.6d968c",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "MLT PID display",
        "links": [
            "9e654cdf.28d56",
            "c4097d68.3df44"
        ],
        "x": 635,
        "y": 60,
        "wires": []
    },
    {
        "id": "67dfad5e.5594d4",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "PID button",
        "links": [
            "d2397e6a.fe122"
        ],
        "x": 195,
        "y": 1040,
        "wires": [
            [
                "2c6231b3.6bf6be"
            ]
        ]
    },
    {
        "id": "b019094f.995bc8",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "MLT Try Output",
        "links": [
            "904c247a.45fb28"
        ],
        "x": 575,
        "y": 1040,
        "wires": []
    },
    {
        "id": "af899bb.71b4268",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "MLT Try Output",
        "links": [
            "904c247a.45fb28"
        ],
        "x": 575,
        "y": 1000,
        "wires": []
    },
    {
        "id": "8a05365.7a9d6c8",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "Manual button",
        "links": [
            "72de55d3.d572dc"
        ],
        "x": 195,
        "y": 1080,
        "wires": [
            [
                "1926149a.35228b"
            ]
        ]
    },
    {
        "id": "9805f535.227788",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "Manual button",
        "links": [
            "72de55d3.d572dc"
        ],
        "x": 195,
        "y": 1120,
        "wires": [
            [
                "b963663f.e5a2b8"
            ]
        ]
    },
    {
        "id": "5b9f3997.1a1028",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "Off button",
        "links": [
            "63568988.008e18"
        ],
        "x": 195,
        "y": 1000,
        "wires": [
            [
                "5f5d96d4.d3f518"
            ]
        ]
    },
    {
        "id": "72cffd63.37d034",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "Off button",
        "links": [
            "430b4ed8.aa615",
            "63568988.008e18"
        ],
        "x": 195,
        "y": 1240,
        "wires": [
            [
                "fa2b3bcf.f8c9f8"
            ]
        ]
    },
    {
        "id": "b557844.fffa878",
        "type": "inject",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 780,
        "wires": [
            [
                "430b4ed8.aa615"
            ]
        ]
    },
    {
        "id": "23a894b5.40b21c",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "Off button",
        "links": [
            "430b4ed8.aa615",
            "63568988.008e18"
        ],
        "x": 195,
        "y": 1160,
        "wires": [
            [
                "b963663f.e5a2b8"
            ]
        ]
    },
    {
        "id": "430b4ed8.aa615",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "Off button - initialization",
        "links": [
            "72cffd63.37d034",
            "4d30d05b.d9442",
            "23a894b5.40b21c"
        ],
        "x": 335,
        "y": 780,
        "wires": []
    },
    {
        "id": "4d30d05b.d9442",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "Off button - initialization",
        "links": [
            "430b4ed8.aa615"
        ],
        "x": 195,
        "y": 960,
        "wires": [
            [
                "97d7ef34.41157"
            ]
        ]
    },
    {
        "id": "97d7ef34.41157",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "mlt_lock, mlt_on, mlt_pid, mlt_try = false",
        "rules": [
            {
                "t": "set",
                "p": "mlt_lock",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_on",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_pid",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "86c1acb8.c73b5",
        "type": "ui_slider",
        "z": "fa2ac6bb.22e008",
        "name": "Kettle target slider",
        "label": "Target",
        "tooltip": "",
        "group": "af73f68d.436728",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "220",
        "step": "1",
        "x": 230,
        "y": 420,
        "wires": [
            [
                "8ccd4cf3.a9c23",
                "6e6b53e.3574cac",
                "cbf40086.e70d9"
            ]
        ]
    },
    {
        "id": "71b1fec1.ddb9c",
        "type": "ui_slider",
        "z": "fa2ac6bb.22e008",
        "name": "Manual duty slider",
        "label": "Manual",
        "tooltip": "",
        "group": "af73f68d.436728",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": "20",
        "max": "100",
        "step": "1",
        "x": 230,
        "y": 240,
        "wires": [
            [
                "2801671c.1470a8"
            ]
        ]
    },
    {
        "id": "e9c92a3d.883e98",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mlt_try",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "6e6b53e.3574cac",
        "type": "ui_text",
        "z": "fa2ac6bb.22e008",
        "group": "d4dfa142.5bce",
        "order": 3,
        "width": 2,
        "height": 1,
        "name": "Kettle target",
        "label": "Target",
        "format": "{{payload | number:1}}°F",
        "layout": "col-center",
        "x": 490,
        "y": 480,
        "wires": []
    },
    {
        "id": "24113597.59a8ca",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp-MLT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "c55e71cf.8e61b",
        "type": "switch",
        "z": "fa2ac6bb.22e008",
        "name": "check minimum volume",
        "property": "current_volume",
        "propertyType": "global",
        "rules": [
            {
                "t": "lt",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 1560,
        "wires": [
            [
                "ed6bb418.5b95e8"
            ],
            []
        ]
    },
    {
        "id": "ed6bb418.5b95e8",
        "type": "change",
        "z": "fa2ac6bb.22e008",
        "name": "Lock message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Can not turn element on as walter level is below 8L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1440,
        "wires": [
            [
                "2745fa1f.b911d6"
            ]
        ]
    },
    {
        "id": "2745fa1f.b911d6",
        "type": "ui_toast",
        "z": "fa2ac6bb.22e008",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 790,
        "y": 1480,
        "wires": []
    },
    {
        "id": "75b3797f.c4f148",
        "type": "debug",
        "z": "fa2ac6bb.22e008",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "fd1ebd5f.d30ff",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "MLT kettle target temp",
        "links": [
            "d2ae9cb6.da5fc"
        ],
        "x": 75,
        "y": 420,
        "wires": [
            [
                "86c1acb8.c73b5"
            ]
        ]
    },
    {
        "id": "cbf40086.e70d9",
        "type": "ui_gauge",
        "z": "fa2ac6bb.22e008",
        "name": "MLT target temp",
        "group": "af73f68d.436728",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Target Temp",
        "format": "{{value}}f",
        "min": "50",
        "max": "220",
        "colors": [
            "#ffd700",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "150",
        "seg2": "190",
        "x": 560,
        "y": 420,
        "wires": []
    },
    {
        "id": "63bd96ab.4aa2c8",
        "type": "ui_gauge",
        "z": "78092a27.0e2d74",
        "name": "MLT Actual Temp",
        "group": "af73f68d.436728",
        "order": 2,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "",
        "label": "Actual Temp",
        "format": "{{value}}F",
        "min": "50",
        "max": "220",
        "colors": [
            "#ffd700",
            "#3dd214",
            "#ff0000"
        ],
        "seg1": "150",
        "seg2": "190",
        "x": 1330,
        "y": 360,
        "wires": []
    },
    {
        "id": "d766828a.22a5d",
        "type": "ui_gauge",
        "z": "e54ae304.78e86",
        "name": "MLT Duty Gauge",
        "group": "af73f68d.436728",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "usage",
        "format": "{{value}} kW",
        "min": 0,
        "max": "5.5",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "40",
        "seg2": "75",
        "x": 530,
        "y": 240,
        "wires": []
    },
    {
        "id": "b643629.3eb72a",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "d4dfa142.5bce",
        "order": 6,
        "width": 2,
        "height": 1,
        "name": "MLT PID Integrator",
        "label": "Integral",
        "format": "{{integrator | number:1}}°F⦁s",
        "layout": "col-center",
        "x": 410,
        "y": 220,
        "wires": []
    },
    {
        "id": "62c9bf7e.3401f",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "d4dfa142.5bce",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "MLT PID Error",
        "label": "Error",
        "format": "{{last_error | number:1}}°F",
        "layout": "col-center",
        "x": 400,
        "y": 180,
        "wires": []
    },
    {
        "id": "12c004f7.c8b2cb",
        "type": "ui_text",
        "z": "7dba9555.09d61c",
        "group": "d4dfa142.5bce",
        "order": 8,
        "width": 2,
        "height": 1,
        "name": "MLT PID Derivative",
        "label": "Derivative",
        "format": "{{derivative | number:1}}°F/s",
        "layout": "col-center",
        "x": 410,
        "y": 260,
        "wires": []
    },
    {
        "id": "c4097d68.3df44",
        "type": "link in",
        "z": "7dba9555.09d61c",
        "name": "MLT PID display",
        "links": [
            "17efd8b9.f76077",
            "706215be.6d968c"
        ],
        "x": 215,
        "y": 220,
        "wires": [
            [
                "b643629.3eb72a",
                "12c004f7.c8b2cb",
                "62c9bf7e.3401f"
            ]
        ]
    },
    {
        "id": "c8fc083c.a139d8",
        "type": "ui_gauge",
        "z": "e54ae304.78e86",
        "name": "BK Duty Gauge",
        "group": "28cab5d7.f6e5fa",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "usage",
        "format": "{{value}} kW",
        "min": 0,
        "max": "5.5",
        "colors": [
            "#ffd700",
            "#ffd700",
            "#ffd700"
        ],
        "seg1": "40",
        "seg2": "75",
        "x": 520,
        "y": 380,
        "wires": []
    },
    {
        "id": "96eed134.a0558",
        "type": "rpi-gpio out",
        "z": "e54ae304.78e86",
        "name": "BK2 GPIO",
        "pin": "37",
        "set": false,
        "level": "0",
        "freq": "1",
        "out": "pwm",
        "x": 510,
        "y": 420,
        "wires": []
    },
    {
        "id": "a3555dfa.ec025",
        "type": "link in",
        "z": "e54ae304.78e86",
        "d": true,
        "name": "BK GPIO",
        "links": [
            "915a5141.29ebe",
            "a8816432.aed788"
        ],
        "x": 195,
        "y": 440,
        "wires": [
            [
                "96eed134.a0558",
                "44d9ad77.b1c4e4"
            ]
        ]
    },
    {
        "id": "786f3a9c.30ea04",
        "type": "link out",
        "z": "fa2ac6bb.22e008",
        "name": "MLT target slider output",
        "links": [],
        "x": 375,
        "y": 320,
        "wires": []
    },
    {
        "id": "fb841241.80ad3",
        "type": "link in",
        "z": "fa2ac6bb.22e008",
        "name": "MLT kettle target temp",
        "links": [],
        "x": 215,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "1e859b3b.bf5eb5",
        "type": "play audio",
        "z": "e55fabca.3e1018",
        "name": "",
        "voice": "3",
        "x": 650,
        "y": 200,
        "wires": []
    },
    {
        "id": "7377dd2d.78d5c4",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 9,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "60 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 3600, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 380,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "c1f46358.4a32f",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "90 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 5400, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 420,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "158edf4f.04e1b1",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 7,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "30 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 1800, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "41cada1.c8da624",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "20 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 1200, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "e7ac65ec.949328",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "15 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 900, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "e9357a15.2251f8",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 8,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "45 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 2700, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 340,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "2788c852.fc18e8",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "10 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 600, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "7550db78.64cbe4",
        "type": "ui_button",
        "z": "e55fabca.3e1018",
        "name": "",
        "group": "61adaa9e.bf1b34",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "5 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "fa-clock-o",
        "payload": "{ \"payload\": \"on\", \"timeout\": 300, \"warning\": 60 }",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 140,
        "wires": [
            [
                "88dda093.d109b"
            ]
        ]
    },
    {
        "id": "4de2aad.0743c54",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "1e2ade38.c7b3c2",
        "order": 3,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "HLT PID",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "white",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "",
        "x": 100,
        "y": 340,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "aa8895b6.6230b8",
        "type": "ui_button",
        "z": "13cd9d31.a34273",
        "name": "",
        "group": "5bdce100.b1b46",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 90,
        "y": 380,
        "wires": [
            [
                "f115c898.c53e88"
            ]
        ]
    },
    {
        "id": "ab91f00b.e29e3",
        "type": "ui_button",
        "z": "2ec55204.a37cde",
        "name": "",
        "group": "23f88a1c.84f826",
        "order": 1,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Refresh from BF!",
        "tooltip": "",
        "color": "#757575",
        "bgcolor": "#e0e0e0",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "2a10e199.845cfe"
            ]
        ]
    },
    {
        "id": "ab2c1954.bfcc78",
        "type": "range",
        "z": "e54ae304.78e86",
        "minin": "0",
        "maxin": "100",
        "minout": "0",
        "maxout": "5.5",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "Duty to watts",
        "x": 510,
        "y": 70,
        "wires": [
            [
                "1601068b.5c78c9"
            ]
        ]
    },
    {
        "id": "548e84a9.124c7c",
        "type": "range",
        "z": "e54ae304.78e86",
        "minin": "0",
        "maxin": "100",
        "minout": "0",
        "maxout": "5.5",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "Duty to watts",
        "x": 510,
        "y": 200,
        "wires": [
            [
                "d766828a.22a5d"
            ]
        ]
    },
    {
        "id": "44d9ad77.b1c4e4",
        "type": "range",
        "z": "e54ae304.78e86",
        "minin": "0",
        "maxin": "100",
        "minout": "0",
        "maxout": "5.5",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "Duty to watts",
        "x": 510,
        "y": 331,
        "wires": [
            [
                "c8fc083c.a139d8"
            ]
        ]
    },
    {
        "id": "d5724f8a.756a8",
        "type": "unit-converter",
        "z": "78092a27.0e2d74",
        "category": "temperature",
        "inputUnit": "C",
        "outputUnit": "F",
        "inputField": "payload",
        "outputField": "payload",
        "inputFieldType": "msg",
        "outputFieldType": "msg",
        "roundOutputField": true,
        "outputFieldDecimals": "0",
        "name": "",
        "x": 540,
        "y": 80,
        "wires": [
            [
                "4bed3661.ec9128",
                "b8be9b2c.00aff8"
            ]
        ]
    },
    {
        "id": "71c405c1.6d9bac",
        "type": "unit-converter",
        "z": "78092a27.0e2d74",
        "category": "temperature",
        "inputUnit": "C",
        "outputUnit": "F",
        "inputField": "payload",
        "outputField": "payload",
        "inputFieldType": "msg",
        "outputFieldType": "msg",
        "roundOutputField": true,
        "outputFieldDecimals": "0",
        "name": "",
        "x": 540,
        "y": 480,
        "wires": [
            [
                "ff126d50.5c137",
                "e743bea7.501a3"
            ]
        ]
    },
    {
        "id": "9a145a7d.aa7088",
        "type": "unit-converter",
        "z": "78092a27.0e2d74",
        "category": "temperature",
        "inputUnit": "C",
        "outputUnit": "F",
        "inputField": "payload",
        "outputField": "payload",
        "inputFieldType": "msg",
        "outputFieldType": "msg",
        "roundOutputField": true,
        "outputFieldDecimals": "0",
        "name": "",
        "x": 540,
        "y": 280,
        "wires": [
            [
                "9ff043cc.a635c",
                "5ee92aaf.2eb0f4"
            ]
        ]
    }
]